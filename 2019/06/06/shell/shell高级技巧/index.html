<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"swiftist.cn","root":"/","scheme":"Pisces","version":"7.7.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"appID":"EVBR3H53HW","apiKey":"2abd573a01143a0cc4108fa4d21ae67c","indexName":"swiftist","hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="高级命令systemctl12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697">
<meta property="og:type" content="article">
<meta property="og:title" content="shell高级技巧">
<meta property="og:url" content="https://swiftist.cn/2019/06/06/shell/shell%E9%AB%98%E7%BA%A7%E6%8A%80%E5%B7%A7/index.html">
<meta property="og:site_name" content="飞雪轩辕">
<meta property="og:description" content="高级命令systemctl12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2019-06-06T07:05:29.000Z">
<meta property="article:modified_time" content="2020-03-31T15:07:39.430Z">
<meta property="article:author" content="Andy Ge">
<meta property="article:tag" content="shell">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://swiftist.cn/2019/06/06/shell/shell%E9%AB%98%E7%BA%A7%E6%8A%80%E5%B7%A7/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>shell高级技巧 | 飞雪轩辕</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="飞雪轩辕" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">飞雪轩辕</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">人生的乐趣在于把梦想变成现实</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-java">

    <a href="/categories/java/" rel="section"><i class="fa fa-fw fa-th-large"></i>java</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://swiftist.cn/2019/06/06/shell/shell%E9%AB%98%E7%BA%A7%E6%8A%80%E5%B7%A7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Andy Ge">
      <meta itemprop="description" content="勇于积极进取，步入人生的世外桃源">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="飞雪轩辕">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          shell高级技巧
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-06-06 15:05:29" itemprop="dateCreated datePublished" datetime="2019-06-06T15:05:29+08:00">2019-06-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-31 23:07:39" itemprop="dateModified" datetime="2020-03-31T23:07:39+08:00">2020-03-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/shell/" itemprop="url" rel="index">
                    <span itemprop="name">shell</span>
                  </a>
                </span>
            </span>

          
            <span id="/2019/06/06/shell/shell%E9%AB%98%E7%BA%A7%E6%8A%80%E5%B7%A7/" class="post-meta-item leancloud_visitors" data-flag-title="shell高级技巧" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <!--markdownlint-disable MD010-->

<h1 id="高级命令"><a href="#高级命令" class="headerlink" title="高级命令"></a>高级命令</h1><h2 id="systemctl"><a href="#systemctl" class="headerlink" title="systemctl"></a><code>systemctl</code></h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看版本</span></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># systemctl --version</span></span><br><span class="line">systemd 219</span><br><span class="line">+PAM +AUDIT +SELINUX +IMA -APPARMOR +SMACK +SYSVINIT +UTMP +LIBCRYPTSETUP +GCRYPT +GNUTLS +ACL +XZ +LZ4 -SECCOMP +BLKID +ELFUTILS +KMOD +IDN</span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># systemd-analyze</span></span><br><span class="line">Startup finished <span class="keyword">in</span> 1.389s (kernel) + 2.687s (initrd) + 44.994s (userspace) = 49.072s</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看所有的服务</span></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># systemd-analyze blame</span></span><br><span class="line">         40.533s kdump.service</span><br><span class="line">          6.302s docker.service</span><br><span class="line">          3.679s jenkins.service</span><br><span class="line">          2.883s tuned.service</span><br><span class="line">          2.523s dev-mapper-centos\x2droot.device</span><br><span class="line">          1.844s lvm2-monitor.service</span><br><span class="line">          1.469s postfix.service</span><br><span class="line">           459ms network.service</span><br><span class="line">           433ms NetworkManager-wait-online.service</span><br><span class="line">           364ms polkit.service</span><br><span class="line">           339ms chronyd.service</span><br><span class="line">           329ms systemd-logind.service</span><br><span class="line">           326ms boot.mount</span><br><span class="line">           310ms rhel-dmesg.service</span><br><span class="line">           272ms NetworkManager.service</span><br><span class="line">           261ms systemd-user-sessions.service</span><br><span class="line">           249ms systemd-update-utmp-runlevel.service</span><br><span class="line">           187ms auditd.service</span><br><span class="line">           141ms systemd-udev-t</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看调用链</span></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># systemd-analyze critical-chain</span></span><br><span class="line">The time after the unit is active or started is printed after the <span class="string">"@"</span> character.</span><br><span class="line">The time the unit takes to start is printed after the <span class="string">"+"</span> character.</span><br><span class="line"></span><br><span class="line">multi-user.target @10.818s</span><br><span class="line">└─docker.service @4.515s +6.302s</span><br><span class="line">  └─network.target @4.439s</span><br><span class="line">    └─NetworkManager.service @3.252s +272ms</span><br><span class="line">      └─dbus.service @3.067s</span><br><span class="line">        └─basic.target @2.999s</span><br><span class="line">          └─sockets.target @2.999s</span><br><span class="line">            └─dbus.socket @2.999s</span><br><span class="line">              └─sysinit.target @2.997s</span><br><span class="line">                └─systemd-rfkill@rfkill0.service @3.432s +23ms</span><br><span class="line">                  └─system-systemd\x2drfkill.slice @3.430s</span><br><span class="line">                    └─system.slice</span><br><span class="line">                      └─-.slice</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看防火墙服务的关键调用链</span></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># systemd-analyze critical-chain firewalld.service</span></span><br><span class="line">The time after the unit is active or started is printed after the <span class="string">"@"</span> character.</span><br><span class="line">The time the unit takes to start is printed after the <span class="string">"+"</span> character.</span><br><span class="line"></span><br><span class="line">└─polkit.service @3.017s +364ms</span><br><span class="line">  └─basic.target @2.999s</span><br><span class="line">    └─sockets.target @2.999s</span><br><span class="line">      └─dbus.socket @2.999s</span><br><span class="line">        └─sysinit.target @2.997s</span><br><span class="line">          └─systemd-rfkill@rfkill0.service @3.432s +23ms</span><br><span class="line">            └─system-systemd\x2drfkill.slice @3.430s</span><br><span class="line">              └─system.slice</span><br><span class="line">                └─-.slice</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看所有的服务</span></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># systemctl -a</span></span><br><span class="line">  UNIT                                 LOAD      ACTIVE   SUB       DESCRIPTION</span><br><span class="line">  proc-sys-fs-binfmt_misc.automount    loaded    active   waiting   Arbitrary Executable File Formats</span><br><span class="line">  dev-block-8:2.device                 loaded    active   plugged   LVM PV 4rR91b-bZPJ-Q9zK-f8zx-Vf73</span><br><span class="line">  dev-cdrom.device                     loaded    active   plugged   VMware_Virtual_IDE_CDROM_Drive Ce</span><br><span class="line">  dev-centos-root.device               loaded    active   plugged   /dev/centos/root</span><br><span class="line">  dev-centos-swap.device               loaded    active   plugged   /dev/centos/swap</span><br><span class="line">  dev-disk-by\x2did-ata\x2dVMware_Virtual_IDE_CDROM_Drive_10000000000000000001.device loaded    activ</span><br><span class="line">  dev-disk-by\x2did-dm\x2dname\x2dcentos\x2droot.device loaded    active   plugged   /dev/disk/by-id/</span><br><span class="line">  dev-disk-by\x2did-dm\x2dname\x2dcentos\x2dswap.device loaded    active   plugged   /dev/disk/by-id/</span><br><span class="line">  dev-disk-by\x2did-dm\x2duuid\x2dLVM\x2dQsHVtkMTbIxe6PY9KtejoBNDQ4UwjHjJSLD49DgpWWFwyp416V75myfww6Vk</span><br><span class="line">  dev-disk-by\x2did-dm\x2duuid\x2dLVM\x2dQsHVtkMTbIxe6PY9KtejoBNDQ4UwjHjJueTSHWFDldRn5xRZQscXI9sJTZuA</span><br><span class="line">  dev-disk-by\x2did-lvm\x2dpv\x2duuid\x2d4rR91b\x2dbZPJ\x2dQ9zK\x2df8zx\x2dVf73\x2dHNf5\x2dzFkP2I.dev</span><br><span class="line">  dev-disk-by\x2dlabel-CentOS\x5cx207\x5cx20x86_64.device loaded    active   plugged   VMware_Virtual</span><br><span class="line">  dev-disk-by\x2dpath-pci\x2d0000:00:07.1\x2data\x2d2.0.device loaded    active   plugged   VMware_Vi</span><br><span class="line">  dev-disk-by\x2dpath-pci\x2d0000:00:10.0\x2dscsi\x2d0:0:0:0.device loaded    active   plugged   VMwa</span><br><span class="line">  dev-disk-by\x2dpath-pci\x2d0000:00:10.0\x2dscsi\x2d0:0:0:0\x2dpart1.device loaded    active   plugg</span><br><span class="line">  dev-disk-by\x2dpath-pci\x2d0000:00:10.0\x2dscsi\x2d0:0:0:0\x2dpart2.device loaded    active   plugg</span><br><span class="line">  dev-disk-by\x2duuid-2018\x2d11\x2d25\x2d23\x2d54\x2d16\x2d00.device loaded    active   plugged   VM</span><br><span class="line">  dev-disk-by\x2duuid-5e61f947\x2d6a65\x2d4278\x2d89a6\x2d4834fa24ac53.device loaded    active   plug</span><br><span class="line">  dev-disk-by\x2duuid-68c9a5a9\x2dad30\x2d4608\x2da29c\x2d1dfa123ad96f.device loaded    active   plug</span><br><span class="line">  dev-disk-by\x2duuid-8e492bc4\x2d9f19\x2d46ae\x2da3cf\x2d1832e60342d8.device loaded    active   plug</span><br><span class="line">  dev-dm\x2d0.device                   loaded    active   plugged   /dev/dm-0</span><br><span class="line">  dev-dm\x2d1.device</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看失败的服务进程</span></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># systemctl --failed</span></span><br><span class="line">  UNIT            LOAD   ACTIVE SUB    DESCRIPTION</span><br><span class="line">● network.service loaded failed failed LSB: Bring up/down networking</span><br><span class="line"></span><br><span class="line">LOAD   = Reflects whether the unit definition was properly loaded.</span><br><span class="line">ACTIVE = The high-level unit activation state, i.e. generalization of SUB.</span><br><span class="line">SUB    = The low-level unit activation state, values depend on unit <span class="built_in">type</span>.</span><br><span class="line"></span><br><span class="line">1 loaded units listed. Pass --all to see loaded but inactive units, too.</span><br><span class="line">To show all installed unit files use <span class="string">'systemctl list-unit-files'</span>.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看某个服务的详细信息</span></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># systemctl show docker</span></span><br><span class="line">Type=notify</span><br><span class="line">Restart=no</span><br><span class="line">NotifyAccess=main</span><br><span class="line">RestartUSec=100ms</span><br><span class="line">TimeoutStartUSec=0</span><br><span class="line">TimeoutStopUSec=1min 30s</span><br><span class="line">WatchdogUSec=0</span><br><span class="line">WatchdogTimestamp=Wed 2019-06-05 12:55:45 CST</span><br><span class="line">WatchdogTimestampMonotonic=14895484</span><br><span class="line">StartLimitInterval=10000000</span><br><span class="line">StartLimitBurst=5</span><br><span class="line">StartLimitAction=none</span><br><span class="line">FailureAction=none</span><br><span class="line">PermissionsStartOnly=no</span><br><span class="line">RootDirectoryStartOnly=no</span><br><span class="line">RemainAfterExit=no</span><br><span class="line">GuessMainPID=yes</span><br><span class="line">MainPID=6672</span><br><span class="line">ControlPID=0</span><br><span class="line">FileDescriptorStoreMax=0</span><br><span class="line"></span><br><span class="line"><span class="comment"># 树状显示各种服务跑了那些进程</span></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># systemd-cgls</span></span><br><span class="line">├─1 /usr/lib/systemd/systemd --switched-root --system --deserialize 22</span><br><span class="line">├─docker</span><br><span class="line">│ ├─b7ebf65713667c640e888e775c24c02fbbeb36051a0e5f3f71849a6e88767d3d</span><br><span class="line">│ │ ├─11883 /bin/sh /harbor/start.sh</span><br><span class="line">│ │ ├─12127 sudo -E -u <span class="comment">#10000 /harbor/harbor_adminserver</span></span><br><span class="line">│ │ └─12179 /harbor/harbor_adminserver</span><br><span class="line">│ ├─adb13d143c303e3d537b2877a9547c38da7e26ff785d29109e2d3dffd8ed7762</span><br><span class="line">│ │ ├─11620 sudo -u mysql -E /usr/<span class="built_in">local</span>/bin/docker-entrypoint.sh mysqld</span><br><span class="line">│ │ └─12164 mysqld</span><br><span class="line">│ ├─fbf34b7144d9b01dec101873b9b5965b21491cc934dc4b3fb01adac1e6df2f0a</span><br><span class="line">│ │ ├─7973 /bin/sh /harbor/start.sh</span><br><span class="line">│ │ ├─8793 sudo -E -u <span class="comment">#10000 /harbor/harbor_jobservice -c /etc/jobservice/config.yml</span></span><br><span class="line">│ │ └─8852 /harbor/harbor_jobservice -c /etc/jobservice/config.yml</span><br><span class="line">│ ├─effaf055bdc01050f2db25ba2e058f48331f11a2258b5d0b7e21c7f5f559b361</span><br><span class="line">│ │ ├─8010 /bin/sh /harbor/start.sh</span><br><span class="line">│ │ ├─8763 sudo -E -u <span class="comment">#10000 /harbor/harbor_ui</span></span><br><span class="line">│ │ └─8811 /harbor/harbor_ui</span><br><span class="line">│ ├─b7ab257b408f3b428a9813a48342d179de5f24db09cbd3278ab2a5de2335dd58</span><br><span class="line">│ │ ├─7935 /bin/bash /usr/<span class="built_in">local</span>/bin/start.sh</span><br><span class="line">│ │ ├─8723 crond</span><br><span class="line">│ │ ├─8732 sudo -u <span class="comment">#10000 -E rsyslogd -n</span></span><br><span class="line">│ │ └─8829 rsyslogd -n</span><br><span class="line">│ ├─f8acde730ad6f239d4ce89b288af9066669cfe7c8240143d180accc8f10cd771</span><br><span class="line">│ │ ├─7834 /bin/sh /entrypoint.sh serve /etc/registry/config.yml</span><br><span class="line">│ │ ├─8695 sudo -E -u <span class="comment">#10000 registry serve /etc/registry/config.yml</span></span><br><span class="line">│ │ └─8761 registry serve /etc/registry/config.yml</span><br><span class="line">│ ├─58e905318ff1107c5584caa510cc0f313bac24f089299e46bbd52e0f3fa7cf45</span><br><span class="line">│ │ ├─7794 sudo -u redis redis-server /etc/redis.conf</span><br><span class="line">│ │ └─8784 redis-server *:6379</span><br><span class="line">│ └─399c847ed9ce923597c76e2521712c33c7f71d688f87ea629362e5f4dc749924</span><br><span class="line">│   ├─7793 nginx: master process nginx -g daemon off</span><br><span class="line">│   ├─8647 nginx: worker proces</span><br><span class="line">│   └─8648 nginx: worker proces</span><br><span class="line">├─user.slice</span><br><span class="line">│ └─user-0.slice</span><br><span class="line">│   ├─session-12.scope</span><br><span class="line">│   │ ├─46604 systemd-cgls</span><br><span class="line">│   │ ├─46605 less</span><br><span class="line">│   │ ├─56794 sshd: root@pts/1</span><br><span class="line">│   │ └─56797 -bash</span><br><span class="line">│   └─session-1.scope</span><br><span class="line">│     ├─8180 sshd: root@pts/0</span><br><span class="line">│     └─8704 -bash</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h2 id="journalctl"><a href="#journalctl" class="headerlink" title="journalctl"></a><code>journalctl</code></h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看某个服务的日志</span></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># journalctl -u docker</span></span><br><span class="line">-- Logs begin at Wed 2019-06-05 12:55:31 CST, end at Thu 2019-06-06 12:59:18 CST. --</span><br><span class="line">Jun 05 12:55:38 harbor-jenkins systemd[1]: Starting Docker Application Container Engine...</span><br><span class="line">Jun 05 12:55:39 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:39.245206311+08:00"</span> level=info m</span><br><span class="line">Jun 05 12:55:40 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:40.397992836+08:00"</span> level=info m</span><br><span class="line">Jun 05 12:55:40 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:40.707278284+08:00"</span> level=info m</span><br><span class="line">Jun 05 12:55:40 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:40.711648279+08:00"</span> level=info m</span><br><span class="line">Jun 05 12:55:40 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:40.896813400+08:00"</span> level=info m</span><br><span class="line">Jun 05 12:55:41 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:41.504580111+08:00"</span> level=info m</span><br><span class="line">Jun 05 12:55:42 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:42.208456949+08:00"</span> level=error</span><br><span class="line">Jun 05 12:55:42 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:42.214179480+08:00"</span> level=error</span><br><span class="line">Jun 05 12:55:42 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:42.604547077+08:00"</span> level=error</span><br><span class="line">Jun 05 12:55:42 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:42.661590259+08:00"</span> level=error</span><br><span class="line">Jun 05 12:55:43 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:43+08:00"</span> level=info msg=<span class="string">"Firewa</span></span><br><span class="line"><span class="string">Jun 05 12:55:43 harbor-jenkins dockerd[6672]: time="</span>2019-06-05T12:55:43+08:00<span class="string">" level=info msg="</span>Firewa</span><br><span class="line">Jun 05 12:55:43 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:43+08:00"</span> level=info msg=<span class="string">"Firewa</span></span><br><span class="line"><span class="string">Jun 05 12:55:44 harbor-jenkins dockerd[6672]: time="</span>2019-06-05T12:55:44+08:00<span class="string">" level=info msg="</span>Firewa</span><br><span class="line">Jun 05 12:55:44 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:44+08:00"</span> level=info msg=<span class="string">"Firewa</span></span><br><span class="line"><span class="string">Jun 05 12:55:44 harbor-jenkins dockerd[6672]: time="</span>2019-06-05T12:55:44+08:00<span class="string">" level=info msg="</span>Firewa</span><br><span class="line">Jun 05 12:55:44 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:44.799476980+08:00"</span> level=info m</span><br><span class="line">Jun 05 12:55:44 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:44.974586603+08:00"</span> level=info m</span><br><span class="line">Jun 05 12:55:44 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:44.974630970+08:00"</span> level=info m</span><br><span class="line">Jun 05 12:55:45 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:45.008051134+08:00"</span> level=info m</span><br><span class="line">Jun 05 12:55:45 harbor-jenkins systemd[1]: Started Docker Application Container Engine.</span><br><span class="line">Jun 05 12:55:55 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:55.596061737+08:00"</span> level=error</span><br><span class="line">Jun 05 12:55:55 harbor-jenkins docke</span><br><span class="line"></span><br><span class="line"><span class="comment"># 同时查看两个服务的日志</span></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># journalctl -u docker -u network</span></span><br><span class="line">-- Logs begin at Wed 2019-06-05 12:55:31 CST, end at Thu 2019-06-06 13:01:01 CST. --</span><br><span class="line">Jun 05 12:55:38 harbor-jenkins systemd[1]: Starting LSB: Bring up/down networking...</span><br><span class="line">Jun 05 12:55:38 harbor-jenkins network[6376]: 正在打开环回接口： [  确定  ]</span><br><span class="line">Jun 05 12:55:38 harbor-jenkins network[6376]: 正在打开接口 ens33： 错误：激活连接失败：No suitable de</span><br><span class="line">Jun 05 12:55:38 harbor-jenkins network[6376]: [失败]</span><br><span class="line">Jun 05 12:55:38 harbor-jenkins network[6376]: 正在打开接口 eth0： [  确定  ]</span><br><span class="line">Jun 05 12:55:38 harbor-jenkins systemd[1]: network.service: control process exited, code=exited statu</span><br><span class="line">Jun 05 12:55:38 harbor-jenkins systemd[1]: Failed to start LSB: Bring up/down networking.</span><br><span class="line">Jun 05 12:55:38 harbor-jenkins systemd[1]: Unit network.service entered failed state.</span><br><span class="line">Jun 05 12:55:38 harbor-jenkins systemd[1]: network.service failed.</span><br><span class="line">Jun 05 12:55:38 harbor-jenkins systemd[1]: Starting Docker Application Container Engine...</span><br><span class="line">Jun 05 12:55:39 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:39.245206311+08:00"</span> level=info m</span><br><span class="line">Jun 05 12:55:40 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:40.397992836+08:00"</span> level=info m</span><br><span class="line">Jun 05 12:55:40 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:40.707278284+08:00"</span> level=info m</span><br><span class="line">Jun 05 12:55:40 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:40.711648279+08:00"</span> level=info m</span><br><span class="line">Jun 05 12:55:40 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:40.896813400+08:00"</span> level=info m</span><br><span class="line">Jun 05 12:55:41 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:41.504580111+08:00"</span> level=info m</span><br><span class="line">Jun 05 12:55:42 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:42.208456949+08:00"</span> level=error</span><br><span class="line">Jun 05 12:55:42 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:42.214179480+08:00"</span> level=error</span><br><span class="line">Jun 05 12:55:42 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:42.604547077+08:00"</span> level=error</span><br><span class="line">Jun 05 12:55:42 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:42.661590259+08:00"</span> level=error</span><br><span class="line">Jun 05 12:55:43 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:43+08:00"</span> level=info msg=<span class="string">"Firewa</span></span><br><span class="line"><span class="string">Jun 05 12:55:43 harbor-jenkins dockerd[6672]: time="</span>2019-06-05T12:55:43+08:00<span class="string">" level=info msg="</span>Firewa</span><br><span class="line">Jun 05 12:55:43 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:43+08:00"</span> level=info msg=<span class="string">"Firewa</span></span><br><span class="line"><span class="string">Jun 05 12:55:44 harbor-jenkins dockerd[6672]: time="</span>2019-06</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果想跟踪某个服务的日志</span></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># journalctl -u docker -u network -f</span></span><br><span class="line">-- Logs begin at Wed 2019-06-05 12:55:31 CST. --</span><br><span class="line">Jun 05 12:55:55 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:55.601659506+08:00"</span> level=error msg=<span class="string">"Handler for POST /v1.26/containers/fbf34b7144d9/start returned error: Container already started"</span></span><br><span class="line">Jun 05 12:55:55 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:55.604637977+08:00"</span> level=error msg=<span class="string">"Handler for POST /v1.26/containers/effaf055bdc0/start returned error: Container already started"</span></span><br><span class="line">Jun 05 12:55:55 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:55.605837905+08:00"</span> level=error msg=<span class="string">"Handler for POST /v1.26/containers/f8acde730ad6/start returned error: Container already started"</span></span><br><span class="line">Jun 05 12:55:56 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:56+08:00"</span> level=info msg=<span class="string">"Firewalld running: false"</span></span><br><span class="line">Jun 05 12:55:57 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:57+08:00"</span> level=info msg=<span class="string">"Firewalld running: false"</span></span><br><span class="line">Jun 05 12:55:57 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:57.421382162+08:00"</span> level=error msg=<span class="string">"Handler for POST /v1.26/containers/58e905318ff1/start returned error: Container already started"</span></span><br><span class="line">Jun 05 12:55:57 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:57.426165612+08:00"</span> level=error msg=<span class="string">"Handler for POST /v1.26/containers/b7ab257b408f/start returned error: Container already started"</span></span><br><span class="line">Jun 05 14:02:08 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T14:02:08.588726026+08:00"</span> level=warning msg=<span class="string">"containerd: unable to save b7ab257b408f3b428a9813a48342d179de5f24db09cbd3278ab2a5de2335dd58:605824ebbb72dc3f1602c0403f1cc57db51719d6a5c55359131d8161641f201c starttime: read /proc/34695/stat: no such process"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看某个服务某个时间范围内的日志</span></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># journalctl -u docker --since 2019-6-1 --until 2019-6-6</span></span><br><span class="line">-- Logs begin at Wed 2019-06-05 12:55:31 CST, end at Thu 2019-06-06 13:01:01 CST. --</span><br><span class="line">Jun 05 12:55:38 harbor-jenkins systemd[1]: Starting Docker Application Container Engine...</span><br><span class="line">Jun 05 12:55:39 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:39.245206311+08:00"</span> level=info m</span><br><span class="line">Jun 05 12:55:40 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:40.397992836+08:00"</span> level=info m</span><br><span class="line">Jun 05 12:55:40 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:40.707278284+08:00"</span> level=info m</span><br><span class="line">Jun 05 12:55:40 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:40.711648279+08:00"</span> level=info m</span><br><span class="line">Jun 05 12:55:40 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:40.896813400+08:00"</span> level=info m</span><br><span class="line">Jun 05 12:55:41 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:41.504580111+08:00"</span> level=info m</span><br><span class="line">Jun 05 12:55:42 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:42.208456949+08:00"</span> level=error</span><br><span class="line">Jun 05 12:55:42 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:42.214179480+08:00"</span> level=error</span><br><span class="line">Jun 05 12:55:42 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:42.604547077+08:00"</span> level=error</span><br><span class="line">Jun 05 12:55:42 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:42.661590259+08:00"</span> level=error</span><br><span class="line">Jun 05 12:55:43 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:43+08:00"</span> level=info msg=<span class="string">"Firewa</span></span><br><span class="line"><span class="string">Jun 05 12:55:43 harbor-jenkins dockerd[6672]: time="</span>2019-06-05T12:55:43+08:00<span class="string">" level=info msg="</span>Firewa</span><br><span class="line">Jun 05 12:55:43 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:43+08:00"</span> level=info msg=<span class="string">"Firewa</span></span><br><span class="line"><span class="string">Jun 05 12:55:44 harbor-jenkins dockerd[6672]: time="</span>2019-06-05T12:55:44+08:00<span class="string">" level=info msg="</span>Firewa</span><br><span class="line">Jun 05 12:55:44 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:44+08:00"</span> level=info msg=<span class="string">"Firewa</span></span><br><span class="line"><span class="string">Jun 05 12:55:44 harbor-jenkins dockerd[6672]: time="</span>2019-06-05T12:55:44+08:00<span class="string">" level=info msg="</span>Firewa</span><br><span class="line">Jun 05 12:55:44 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:44.799476980+08:00"</span> level=info m</span><br><span class="line">Jun 05 12:55:44 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:44.974586603+08:00"</span> level=info m</span><br><span class="line">Jun 05 12:55:44 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:44.974630970+08:00"</span> level=info m</span><br><span class="line">Jun 05 12:55:45 harbor-jenkins dockerd[6672]: time=<span class="string">"2019"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 或者使用简写名词，从昨天到今天的日志</span></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># journalctl -u docker --since yesterday --until today</span></span><br><span class="line">-- Logs begin at Wed 2019-06-05 12:55:31 CST, end at Thu 2019-06-06 13:01:01 CST. --</span><br><span class="line">Jun 05 12:55:38 harbor-jenkins systemd[1]: Starting Docker Application Container Engine...</span><br><span class="line">Jun 05 12:55:39 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:39.245206311+08:00"</span> level=info m</span><br><span class="line">Jun 05 12:55:40 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:40.397992836+08:00"</span> level=info m</span><br><span class="line">Jun 05 12:55:40 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:40.707278284+08:00"</span> level=info m</span><br><span class="line">Jun 05 12:55:40 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:40.711648279+08:00"</span> level=info m</span><br><span class="line">Jun 05 12:55:40 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:40.896813400+08:00"</span> level=info m</span><br><span class="line">Jun 05 12:55:41 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:41.504580111+08:00"</span> level=info m</span><br><span class="line">Jun 05 12:55:42 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:42.208456949+08:00"</span> level=error</span><br><span class="line">Jun 05 12:55:42 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:42.214179480+08:00"</span> level=error</span><br><span class="line">Jun 05 12:55:42 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:42.604547077+08:00"</span> level=error</span><br><span class="line">Jun 05 12:55:42 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:42.661590259+08:00"</span> level=error</span><br><span class="line">Jun 05 12:55:43 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:43+08:00"</span> level=info msg=<span class="string">"Firewa</span></span><br><span class="line"><span class="string">Jun 05 12:55:43 harbor-jenkins dockerd[6672]: time="</span>2019-06-05T12:55:43+08:00<span class="string">" level=info msg="</span>Firewa</span><br><span class="line">Jun 05 12:55:43 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:43+08:00"</span> level=info msg=<span class="string">"Firewa</span></span><br><span class="line"><span class="string">Jun 05 12:55:44 harbor-jenkins dockerd[6672]: time="</span>2019-06-05T12:55:44+08:00<span class="string">" level=info msg="</span>Firewa</span><br><span class="line">Jun 05 12:55:44 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:44+08:00"</span> level=info msg=<span class="string">"Firewa</span></span><br><span class="line"><span class="string">Jun 05 12:55:44 harbor-jenkins dockerd[6672]: time="</span>2019-06-05T12:55:44+08:00<span class="string">" level=info msg="</span>Firewa</span><br><span class="line">Jun 05 12:55:44 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:44.799476980+08:00"</span> level=info m</span><br><span class="line">Jun 05 12:55:44 harbor-jenkins dockerd[6672]: time=<span class="string">"2019-06-05T12:55:44.974586603+08:00"</span> level=info m</span><br><span class="line">Jun 05 12:55:44 harbor-jenkins dockerd[6672]: time=<span class="string">"20</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># 以json的格式输出</span></span><br><span class="line"><span class="string">[root@harbor-jenkins ~]# journalctl -u docker --since yesterday --until today -o json-pretty</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">        "</span>__CURSOR<span class="string">" : "</span>s=d5e980e983be490dbb4265e7305973c8;i=82c;b=dfeba5ede3f94c87a975d98464d1c7d6;m=8</span><br><span class="line">        <span class="string">"__REALTIME_TIMESTAMP"</span> : <span class="string">"1559710538708780"</span>,</span><br><span class="line">        <span class="string">"__MONOTONIC_TIMESTAMP"</span> : <span class="string">"8593445"</span>,</span><br><span class="line">        <span class="string">"_BOOT_ID"</span> : <span class="string">"dfeba5ede3f94c87a975d98464d1c7d6"</span>,</span><br><span class="line">        <span class="string">"PRIORITY"</span> : <span class="string">"6"</span>,</span><br><span class="line">        <span class="string">"_UID"</span> : <span class="string">"0"</span>,</span><br><span class="line">        <span class="string">"_GID"</span> : <span class="string">"0"</span>,</span><br><span class="line">        <span class="string">"_MACHINE_ID"</span> : <span class="string">"b0c3b620c5e344dc9b2c2f11c4a48ac2"</span>,</span><br><span class="line">        <span class="string">"SYSLOG_FACILITY"</span> : <span class="string">"3"</span>,</span><br><span class="line">        <span class="string">"SYSLOG_IDENTIFIER"</span> : <span class="string">"systemd"</span>,</span><br><span class="line">        <span class="string">"_TRANSPORT"</span> : <span class="string">"journal"</span>,</span><br><span class="line">        <span class="string">"_PID"</span> : <span class="string">"1"</span>,</span><br><span class="line">        <span class="string">"_COMM"</span> : <span class="string">"systemd"</span>,</span><br><span class="line">        <span class="string">"_EXE"</span> : <span class="string">"/usr/lib/systemd/systemd"</span>,</span><br><span class="line">        <span class="string">"_CAP_EFFECTIVE"</span> : <span class="string">"1fffffffff"</span>,</span><br><span class="line">        <span class="string">"_SYSTEMD_CGROUP"</span> : <span class="string">"/"</span>,</span><br><span class="line">        <span class="string">"CODE_FILE"</span> : <span class="string">"src/core/unit.c"</span>,</span><br><span class="line">        <span class="string">"CODE_LINE"</span> : <span class="string">"1392"</span>,</span><br><span class="line">        <span class="string">"CODE_FUNCTION"</span> : <span class="string">"unit_status_log_starting_stopping_reloading"</span>,</span><br><span class="line">        <span class="string">"MESSAGE_ID"</span> : <span class="string">"7d4958e842da4a758f6c1cdc7b36dcc5"</span>,</span><br><span class="line">        <span class="string">"_HOSTNAME"</span> : <span class="string">"harbor-jenkins"</span>,</span><br><span class="line">        <span class="string">"_CMDLINE"</span> : <span class="string">"/usr/lib/systemd/systemd --switched-root --system --deserialize 22"</span>,</span><br><span class="line">        <span class="string">"_SELINUX_CONTEXT"</span> : <span class="string">"system_u:system_r:init_t:s0"</span>,</span><br><span class="line">        <span class="string">"UNIT"</span> : <span class="string">"docker.service"</span>,</span><br><span class="line">        <span class="string">"MESSAGE"</span> : <span class="string">"Starting Docker Application Container Engine..."</span>,</span><br><span class="line">        <span class="string">"_SOURCE_REALTIME_TIMESTAMP"</span> : <span class="string">"1559710538708406"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="网络工具"><a href="#网络工具" class="headerlink" title="网络工具"></a>网络工具</h2><h3 id="tcpdump"><a href="#tcpdump" class="headerlink" title="tcpdump"></a><code>tcpdump</code></h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装</span></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># yum install -y tcpdump</span></span><br><span class="line">Loaded plugins: fastestmirror</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line">epel/x86_64/metalink                                                          | 4.8 kB  00:00:00</span><br><span class="line"> * base: mirror.jdcloud.com</span><br><span class="line"> * epel: mirrors.tuna.tsinghua.edu.cn</span><br><span class="line"> * extras: mirror.jdcloud.com</span><br><span class="line"> * updates: mirror.jdcloud.com</span><br><span class="line">base                                                                          | 3.6 kB  00:00:00</span><br><span class="line">docker-ce-stable                                                              | 3.5 kB  00:00:00</span><br><span class="line">epel                                                                          | 5.3 kB  00:00:00</span><br><span class="line">extras                                                                        | 3.4 kB  00:00:00</span><br><span class="line">jenkins                                                                       | 2.9 kB  00:00:01</span><br><span class="line">updates                                                                       | 3.4 kB  00:00:00</span><br><span class="line">(1/2): epel/x86_64/updateinfo                                                 | 974 kB  00:00:00</span><br><span class="line">(2/2): epel/x86_64/primary_db                                                 | 6.7 MB  00:00:01</span><br><span class="line">Resolving Dependencies</span><br><span class="line">--&gt; Running transaction check</span><br><span class="line">---&gt; Package tcpdump.x86_64 14:4.9.2-3.el7 will be installed</span><br><span class="line">--&gt; Processing Dependency: libpcap &gt;= 14:1.5.3-10 <span class="keyword">for</span> package: 14:tcpdump-4.9.2-3.el7.x86_64</span><br><span class="line">--&gt; Processing Dependency: libpcap.so.1()(64bit) <span class="keyword">for</span> package: 14:tcpdump-4.9.2-3.el7.x86_64</span><br><span class="line">--&gt; Running transaction check</span><br><span class="line">---&gt; Package libpcap.x86_64 14:1.5.3-11.el7 will be installed</span><br><span class="line">--&gt; Finished Dependency Resolution</span><br><span class="line"></span><br><span class="line">Dependencies Resolved</span><br><span class="line"></span><br><span class="line">=====================================================================================================</span><br><span class="line"> Package               Arch                 Version                         Repository          Size</span><br><span class="line">=====================================================================================================</span><br><span class="line">Installing:</span><br><span class="line"> tcpdump               x86_64               14:4.9.2-3.el7                  base               421 k</span><br><span class="line">Installing <span class="keyword">for</span> dependencies:</span><br><span class="line"> libpcap               x86_64               14:1.5.3-11.el7                 base               138 k</span><br><span class="line"></span><br><span class="line">Transaction Summary</span><br><span class="line">=====================================================================================================</span><br><span class="line">Install  1 Package (+1 Dependent package)</span><br><span class="line"></span><br><span class="line">Total download size: 559 k</span><br><span class="line">Installed size: 1.3 M</span><br><span class="line">Downloading packages:</span><br><span class="line">(1/2): libpcap-1.5.3-11.el7.x86_64.rpm                                        | 138 kB  00:00:00</span><br><span class="line">(2/2): tcpdump-4.9.2-3.el7.x86_64.rpm                                         | 421 kB  00:00:00</span><br><span class="line">-----------------------------------------------------------------------------------------------------</span><br><span class="line">Total                                                                558 kB/s | 559 kB  00:00:01</span><br><span class="line">Running transaction check</span><br><span class="line">Running transaction <span class="built_in">test</span></span><br><span class="line">Transaction <span class="built_in">test</span> succeeded</span><br><span class="line">Running transaction</span><br><span class="line">  Installing : 14:libpcap-1.5.3-11.el7.x86_64                                                    1/2</span><br><span class="line">  Installing : 14:tcpdump-4.9.2-3.el7.x86_64                                                     2/2</span><br><span class="line">  Verifying  : 14:tcpdump-4.9.2-3.el7.x86_64                                                     1/2</span><br><span class="line">  Verifying  : 14:libpcap-1.5.3-11.el7.x86_64                                                    2/2</span><br><span class="line"></span><br><span class="line">Installed:</span><br><span class="line">  tcpdump.x86_64 14:4.9.2-3.el7</span><br><span class="line"></span><br><span class="line">Dependency Installed:</span><br><span class="line">  libpcap.x86_64 14:1.5.3-11.el7</span><br><span class="line"></span><br><span class="line">Complete!</span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># tcpdump --version</span></span><br><span class="line">tcpdump version 4.9.2</span><br><span class="line">libpcap version 1.5.3</span><br><span class="line">OpenSSL 1.0.2k-fips  26 Jan 2017</span><br><span class="line"></span><br><span class="line"><span class="comment"># 监控80端口</span></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># tcpdump -i any -X 'port 80'</span></span><br><span class="line">tcpdump: verbose output suppressed, use -v or -vv <span class="keyword">for</span> full protocol decode</span><br><span class="line">listening on any, link-type LINUX_SLL (Linux cooked), capture size 262144 bytes</span><br><span class="line">13:12:18.466252 IP harbor-server.34000 &gt; 220.181.38.148.http: Flags [S], seq 3480309646, win 29200, options [mss 1460,sackOK,TS val 37614164 ecr 0,nop,wscale 7], length 0</span><br><span class="line">	0x0000:  4500 003c bdda 4000 4006 b787 c0a8 0168  E..&lt;..@.@......h</span><br><span class="line">	0x0010:  dcb5 2694 84d0 0050 cf71 4f8e 0000 0000  ..&amp;....P.qO.....</span><br><span class="line">	0x0020:  a002 7210 c588 0000 0204 05b4 0402 080a  ..r.............</span><br><span class="line">	0x0030:  023d f254 0000 0000 0103 0307 0000 0000  .=.T............</span><br><span class="line">	0x0040:  0000 0000 0000 0000 0000 0000            ............</span><br><span class="line">13:12:18.474523 IP 220.181.38.148.http &gt; harbor-server.34000: Flags [S.], seq 3634501960, ack 3480309647, win 8192, options [mss 1440,sackOK,nop,nop,nop,nop,nop,nop,nop,nop,nop,nop,nop,wscale 5], length 0</span><br><span class="line"></span><br><span class="line"><span class="comment"># 同时在另外一个终端打开</span></span><br><span class="line">[root@harbor-jenkins <span class="built_in">test</span>]<span class="comment"># curl baidu.com</span></span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">"refresh"</span> content=<span class="string">"0;url=http://www.baidu.com/"</span>&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h3 id="netstat和ss"><a href="#netstat和ss" class="headerlink" title="netstat和ss"></a><code>netstat</code>和<code>ss</code></h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看各端口及服务</span></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># netstat -ntulp</span></span><br><span class="line">Active Internet connections (only servers)</span><br><span class="line">Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name</span><br><span class="line">tcp        0      0 127.0.0.1:1514          0.0.0.0:*               LISTEN      7969/docker-proxy</span><br><span class="line">tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      6622/sshd</span><br><span class="line">tcp        0      0 127.0.0.1:25            0.0.0.0:*               LISTEN      7136/master</span><br><span class="line">tcp6       0      0 :::8080                 :::*                    LISTEN      8250/java</span><br><span class="line">tcp6       0      0 :::80                   :::*                    LISTEN      8277/docker-proxy</span><br><span class="line">tcp6       0      0 :::22                   :::*                    LISTEN      6622/sshd</span><br><span class="line">tcp6       0      0 ::1:25                  :::*                    LISTEN      7136/master</span><br><span class="line">tcp6       0      0 :::443                  :::*                    LISTEN      8188/docker-proxy</span><br><span class="line">tcp6       0      0 :::4443                 :::*                    LISTEN      8103/docker-proxy</span><br><span class="line">udp        0      0 127.0.0.1:323           0.0.0.0:*                           6038/chronyd</span><br><span class="line">udp6       0      0 :::33848                :::*                                8250/java</span><br><span class="line">udp6       0      0 :::5353                 :::*                                8250/java</span><br><span class="line">udp6       0      0 ::1:323                 :::*                                6038/chronyd</span><br><span class="line"></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># ss -E</span></span><br><span class="line">Netid  State      Recv-Q Send-Q                                                    Local Address:Port                                                                     Peer Address:Port</span><br></pre></td></tr></table></figure>

<h3 id="iftop"><a href="#iftop" class="headerlink" title="iftop"></a><code>iftop</code></h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装</span></span><br><span class="line">yum -y install iftop</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看各个程序的流量</span></span><br><span class="line">iftop</span><br></pre></td></tr></table></figure>

<h3 id="ifstat"><a href="#ifstat" class="headerlink" title="ifstat"></a><code>ifstat</code></h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看各个网卡的流量</span></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># ifstat</span></span><br><span class="line"><span class="comment">#kernel</span></span><br><span class="line">Interface        RX Pkts/Rate    TX Pkts/Rate    RX Data/Rate    TX Data/Rate</span><br><span class="line">                 RX Errs/Drop    TX Errs/Drop    RX Over/Rate    TX Coll/Rate</span><br><span class="line">lo                  2633 0          2633 0        316132 0        316132 0</span><br><span class="line">                       0 0             0 0             0 0             0 0</span><br><span class="line">eth0               14793 0          3126 0         3302K 0        382321 0</span><br><span class="line">                       0 0             0 0             0 0             0 0</span><br><span class="line">br-c591872255e7     2510 0          2553 0        169298 0        393640 0</span><br><span class="line">                       0 0             0 0             0 0             0 0</span><br><span class="line">docker0                0 0             0 0             0 0             0 0</span><br><span class="line">                       0 0             0 0             0 0             0 0</span><br><span class="line">veth11804e6         1755 0          1823 0        117978 0        320279 0</span><br><span class="line">                       0 0             0 0             0 0             0 0</span><br><span class="line">veth4160188          182 0           229 0         46540 0         36536 0</span><br><span class="line">                       0 0             0 0             0 0             0 0</span><br><span class="line">veth8852a08          101 0           162 0          6212 0         13708 0</span><br><span class="line">                       0 0             0 0             0 0             0 0</span><br><span class="line">veth30e8912        64399 0         85324 0         4582K 0        52044K 0</span><br><span class="line">                       0 0             0 0             0 0             0 0</span><br><span class="line">veth7072893        84624 0         64102 0        51974K 0         4563K 0</span><br><span class="line">                       0 0             0 0             0 0             0 0</span><br><span class="line">veth6a34334          603 0           798 0        455121 0         70538 0</span><br><span class="line">                       0 0             0 0             0 0             0 0</span><br><span class="line">veth29f2eca         1059 0          1077 0        380139 0        507871 0</span><br><span class="line">                       0 0             0 0             0 0             0 0</span><br><span class="line">vethe5ca235         1349 0           838 0        145309 0        354401 0</span><br><span class="line">                       0 0             0 0             0 0             0 0</span><br></pre></td></tr></table></figure>

<h3 id="siege"><a href="#siege" class="headerlink" title="siege"></a><code>siege</code></h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装</span></span><br><span class="line">yum -y install siege</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看10秒钟内访问百度的统计数据</span></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># siege www.baidu.com --time=10s</span></span><br><span class="line">SIEGE 4.0.2</span><br><span class="line">Preparing 25 concurrent users <span class="keyword">for</span> battle.</span><br><span class="line">The server is now under siege...</span><br><span class="line">HTTP/1.1 200     0.26 secs:  153442 bytes ==&gt; GET  /</span><br><span class="line">HTTP/1.1 200     0.26 secs:  153646 bytes ==&gt; GET  /</span><br><span class="line">HTTP/1.1 200     0.85 secs:  153706 bytes ==&gt; GET  /</span><br><span class="line">HTTP/1.1 200     0.88 secs:  153454 bytes ==&gt; GET  /</span><br><span class="line">HTTP/1.1 200     0.92 secs:  153762 bytes ==&gt; GET  /</span><br><span class="line">HTTP/1.1 200     0.92 secs:  153442 bytes ==&gt; GET  /</span><br><span class="line">HTTP/1.1 200     0.92 secs:  153682 bytes ==&gt; GET  /</span><br><span class="line">HTTP/1.1 200     0.96 secs:  153800 bytes ==&gt; GET  /</span><br><span class="line">HTTP/1.1 200     0.97 secs:  153418 bytes ==&gt; GET  /</span><br><span class="line">HTTP/1.1 200     0.97 secs:  154065 bytes ==&gt; GET  /</span><br><span class="line">HTTP/1.1 200     0.98 secs:  153406 bytes ==&gt; GET  /</span><br><span class="line">HTTP/1.1 200     0.98 secs:  153659 bytes ==&gt; GET  /</span><br><span class="line">HTTP/1.1 200     0.98 secs:  153454 bytes ==&gt; GET  /</span><br><span class="line">HTTP/1.1 200     0.98 secs:  154481 bytes ==&gt; GET  /</span><br><span class="line">HTTP/1.1 200     0.99 secs:  153418 bytes ==&gt; GET  /</span><br><span class="line">HTTP/1.1 200     0.99 secs:  154065 bytes ==&gt; GET  /</span><br><span class="line">HTTP/1.1 200     1.00 secs:  153454 bytes ==&gt; GET  /</span><br><span class="line">HTTP/1.1 200     1.00 secs:  153430 bytes ==&gt; GET  /</span><br><span class="line">HTTP/1.1 200     0.03 secs:    1131 bytes ==&gt; GET  /baidu.html?from=noscript</span><br><span class="line">HTTP/1.1 200     1.01 secs:  153662 bytes ==&gt; GET  /</span><br><span class="line">HTTP/1.1 200     1.01 secs:  153418 bytes ==&gt; GET  /</span><br><span class="line">HTTP/1.1 200     1.01 secs:  153454 bytes ==&gt; GET  /</span><br><span class="line">HTTP/1.1 200     0.76 secs:    1131 bytes ==&gt; GET  /baidu.html?from=noscript</span><br><span class="line">HTTP/1.1 200     0.04 secs:    1131 bytes ==&gt; GET  /baidu.html?from=noscript</span><br><span class="line">HTTP/1.1 200     1.02 secs:  153418 bytes ==&gt; GET  /</span><br><span class="line">HTTP/1.1 200     0.04 secs:    1131 bytes ==&gt; GET  /baidu.html?from=noscript</span><br><span class="line">HTTP/1.1 200     0.76 secs:    1131 bytes ==&gt; GET  /baidu.html?from=noscript</span><br><span class="line">HTTP/1.1 200     0.17 secs:    1131 bytes ==&gt; GET  /baidu.html?from=noscript</span><br><span class="line">HTTP/1.1 200     0.14 secs:    1131 bytes ==&gt; GET  /baidu.html?from=noscript</span><br><span class="line">HTTP/1.1 200     1.03 secs:  153644 bytes ==&gt; GET  /</span><br><span class="line">HTTP/1.1 200     0.04 secs:    1131 bytes ==&gt; GET  /baidu.html?from=noscript</span><br><span class="line">HTTP/1.1 200     0.11 secs:    1131 bytes ==&gt; GET  /baidu.html?from=noscript</span><br><span class="line">HTTP/1.1 200     0.11 secs:    1131 bytes ==&gt; GET  /baidu.html?from=noscript</span><br><span class="line">HTTP/1.1 200     0.06 secs:    1131 bytes ==&gt; GET  /baidu.html?from=noscript</span><br><span class="line">HTTP/1.1 200     0.11 secs:    1131 bytes ==&gt; GET  /baidu.html?from=noscript</span><br><span class="line">HTTP/1.1 200     1.03 secs:  153430 bytes ==&gt; GET  /</span><br><span class="line">HTTP/1.1 200     1.03 secs:  153406 bytes ==&gt; GET  /</span><br><span class="line">HTTP/1.1 200     0.04 secs:      91 bytes ==&gt; GET  /img/gs.gif</span><br><span class="line">HTTP/1.1 200     0.08 secs:    1131 bytes ==&gt; GET  /baidu.html?from=noscript</span><br><span class="line">HTTP/1.1 200     0.06 secs:    1131 bytes ==&gt; GET  /baidu.html?from=noscript</span><br><span class="line">HTTP/1.1 200     0.06 secs:    1131 bytes ==&gt; GET  /baidu.html?from=noscript</span><br><span class="line">HTTP/1.1 200     0.04 secs:      91 bytes ==&gt; GET  /img/gs.gif</span><br><span class="line">HTTP/1.1 200     0.05 secs:    1131 bytes ==&gt; GET  /baidu.html?from=noscript</span><br><span class="line">HTTP/1.1 200     0.05 secs:    1131 bytes ==&gt; GET  /baidu.html?from=noscript</span><br><span class="line">HTTP/1.1 200     0.07 secs:    1131 bytes ==&gt; GET  /baidu.html?from=noscript</span><br><span class="line">HTTP/1.1 200     0.05 secs:      91 bytes ==&gt; GET  /img/gs.gif</span><br><span class="line">HTTP/1.1 200     0.05 secs:      91 bytes ==&gt; GET  /img/gs.gif</span><br><span class="line">HTTP/1.1 200     0.05 secs:      91 bytes ==&gt; GET  /img/gs.gif</span><br><span class="line">HTTP/1.1 200     0.05 secs:      91 bytes ==&gt; GET  /img/gs.gif</span><br><span class="line">HTTP/1.1 200     0.04 secs:      91 bytes ==&gt; GET  /img/gs.gif</span><br><span class="line">HTTP/1.1 200     0.05 secs:      91 bytes ==&gt; GET  /img/gs.gif</span><br><span class="line">HTTP/1.1 200     0.04 secs:      91 bytes ==&gt; GET  /img/gs.gif</span><br><span class="line">HTTP/1.1 200     0.04 secs:      91 bytes ==&gt; GET  /img/gs.gif</span><br><span class="line">HTTP/1.1 200     0.04 secs:    1131 bytes ==&gt; GET  /baidu.html?from=noscript</span><br><span class="line">HTTP/1.1 200     0.04 secs:    1131 bytes ==&gt; GET  /baidu.html?from=noscript</span><br><span class="line">HTTP/1.1 200     0.04 secs:    1131 bytes ==&gt; GET  /baidu.html?from=noscript</span><br><span class="line">HTTP/1.1 200     0.04 secs:      91 bytes ==&gt; GET  /img/gs.gif</span><br><span class="line">HTTP/1.1 200     0.04 secs:      91 bytes ==&gt; GET  /img/gs.gif</span><br><span class="line">HTTP/1.1 200     0.04 secs:    1131 bytes ==&gt; GET  /baidu.html?from=noscript</span><br><span class="line">HTTP/1.1 200     0.05 secs:    7877 bytes ==&gt; GET  /img/bd_logo1.png</span><br><span class="line">HTTP/1.1 200     0.04 secs:      91 bytes ==&gt; GET  /img/gs.gif</span><br><span class="line">HTTP/1.1 200     0.04 secs:      91 bytes ==&gt; GET  /img/gs.gif</span><br><span class="line">HTTP/1.1 200     0.03 secs:    7877 bytes ==&gt; GET  /img/bd_logo1.png</span><br><span class="line">HTTP/1.1 200     0.05 secs:      91 bytes ==&gt; GET  /img/gs.gif</span><br><span class="line">HTTP/1.1 200     0.05 secs:      91 bytes ==&gt; GET  /img/gs.gif</span><br><span class="line">HTTP/1.1 200     0.05 secs:      91 bytes ==&gt; GET  /img/gs.gif</span><br><span class="line">HTTP/1.1 200     0.04 secs:    7877 bytes ==&gt; GET  /img/bd_logo1.png</span><br><span class="line">HTTP/1.1 200     0.04 secs:    7877 bytes ==&gt; GET  /img/bd_logo1.png</span><br><span class="line">HTTP/1.1 200     0.04 secs:    7877 bytes ==&gt; GET  /img/bd_logo1.png</span><br><span class="line">HTTP/1.1 200     0.15 secs:    1131 bytes ==&gt; GET  /baidu.html?from=noscript</span><br><span class="line">HTTP/1.1 200     0.05 secs:    7877 bytes ==&gt; GET  /img/bd_logo1.png</span><br><span class="line">HTTP/1.1 200     0.05 secs:    7877 bytes ==&gt; GET  /img/bd_logo1.png</span><br><span class="line">HTTP/1.1 200     0.05 secs:      91 bytes ==&gt; GET  /img/gs.gif</span><br><span class="line">HTTP/1.1 200     0.05 secs:    7877 bytes ==&gt; GET  /img/bd_logo1.png</span><br><span class="line">HTTP/1.1 200     0.06 secs:      91 bytes ==&gt; GET  /img/gs.gif</span><br><span class="line">HTTP/1.1 200     0.06 secs:    7877 bytes ==&gt; GET  /img/bd_logo1.png</span><br><span class="line">HTTP/1.1 200     0.25 secs:    7877 bytes ==&gt; GET  /img/bd_logo1.png</span><br><span class="line">HTTP/1.1 200     0.25 secs:    7877 bytes ==&gt; GET  /img/bd_logo1.png</span><br><span class="line">HTTP/1.1 200     0.25 secs:      91 bytes ==&gt; GET  /img/gs.gif</span><br><span class="line">HTTP/1.1 200     0.25 secs:      91 bytes ==&gt; GET  /img/gs.gif</span><br><span class="line">HTTP/1.1 200     0.25 secs:    7877 bytes ==&gt; GET  /img/bd_logo1.png</span><br><span class="line">HTTP/1.1 200     0.22 secs:    7877 bytes ==&gt; GET  /img/bd_logo1.png</span><br><span class="line">HTTP/1.1 200     0.21 secs:    7877 bytes ==&gt; GET  /img/bd_logo1.png</span><br><span class="line">HTTP/1.1 200     0.21 secs:    7877 bytes ==&gt; GET  /img/bd_logo1.png</span><br><span class="line">HTTP/1.1 200     0.21 secs:    7877 bytes ==&gt; GET  /img/bd_logo1.png</span><br><span class="line">HTTP/1.1 200     0.21 secs:      91 bytes ==&gt; GET  /img/gs.gif</span><br><span class="line">HTTP/1.1 200     0.20 secs:    7877 bytes ==&gt; GET  /img/bd_logo1.png</span><br><span class="line">HTTP/1.1 200     0.20 secs:    7877 bytes ==&gt; GET  /img/bd_logo1.png</span><br><span class="line">HTTP/1.1 200     0.20 secs:   15629 bytes ==&gt; GET  /5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css</span><br><span class="line">HTTP/1.1 200     0.20 secs:   15629 bytes ==&gt; GET  /5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css</span><br><span class="line">HTTP/1.1 200     0.20 secs:   15629 bytes ==&gt; GET  /5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css</span><br><span class="line">HTTP/1.1 200     0.21 secs:   15629 bytes ==&gt; GET  /5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css</span><br><span class="line">HTTP/1.1 200     0.21 secs:   15629 bytes ==&gt; GET  /5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css</span><br><span class="line">HTTP/1.1 200     0.23 secs:   15629 bytes ==&gt; GET  /5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css</span><br><span class="line">HTTP/1.1 200     0.21 secs:   15629 bytes ==&gt; GET  /5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css</span><br><span class="line">HTTP/1.1 200     0.20 secs:   15629 bytes ==&gt; GET  /5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css</span><br><span class="line">HTTP/1.1 200     0.21 secs:   15629 bytes ==&gt; GET  /5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css</span><br><span class="line">HTTP/1.1 200     0.25 secs:      91 bytes ==&gt; GET  /img/gs.gif</span><br><span class="line">HTTP/1.1 200     0.03 secs:    7877 bytes ==&gt; GET  /img/bd_logo1.png</span><br><span class="line">HTTP/1.1 200     0.04 secs:    7877 bytes ==&gt; GET  /img/bd_logo1.png</span><br><span class="line">HTTP/1.1 200     0.18 secs:   93750 bytes ==&gt; GET  /r/www/cache/static/jquery/jquery-1.10.2.min_65682a2.js</span><br><span class="line">HTTP/1.1 200     0.21 secs:   93750 bytes ==&gt; GET  /r/www/cache/static/jquery/jquery-1.10.2.min_65682a2.js</span><br><span class="line">HTTP/1.1 200     0.23 secs:   93750 bytes ==&gt; GET  /r/www/cache/static/jquery/jquery-1.10.2.min_65682a2.js</span><br><span class="line">HTTP/1.1 200     0.23 secs:   93750 bytes ==&gt; GET  /r/www/cache/static/jquery/jquery-1.10.2.min_65682a2.js</span><br><span class="line">HTTP/1.1 200     0.23 secs:    7877 bytes ==&gt; GET  /img/bd_logo1.png</span><br><span class="line">HTTP/1.1 200     0.23 secs:   93750 bytes ==&gt; GET  /r/www/cache/static/jquery/jquery-1.10.2.min_65682a2.js</span><br><span class="line">HTTP/1.1 200     0.23 secs:   93750 bytes ==&gt; GET  /r/www/cache/static/jquery/jquery-1.10.2.min_65682a2.js</span><br><span class="line">HTTP/1.1 200     0.23 secs:   93750 bytes ==&gt; GET  /r/www/cache/static/jquery/jquery-1.10.2.min_65682a2.js</span><br><span class="line">HTTP/1.1 200     0.23 secs:   93750 bytes ==&gt; GET  /r/www/cache/static/jquery/jquery-1.10.2.min_65682a2.js</span><br><span class="line">HTTP/1.1 200     0.23 secs:    7877 bytes ==&gt; GET  /img/bd_logo1.png</span><br><span class="line">HTTP/1.1 200     0.23 secs:   15629 bytes ==&gt; GET  /5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css</span><br><span class="line">HTTP/1.1 200     0.23 secs:   15629 bytes ==&gt; GET  /5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css</span><br><span class="line">HTTP/1.1 200     0.20 secs:   15629 bytes ==&gt; GET  /5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css</span><br><span class="line">HTTP/1.1 200     0.23 secs:   93750 bytes ==&gt; GET  /r/www/cache/static/jquery/jquery-1.10.2.min_65682a2.js</span><br><span class="line">HTTP/1.1 200     0.23 secs:   15629 bytes ==&gt; GET  /5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css</span><br><span class="line">HTTP/1.1 200     0.23 secs:   15629 bytes ==&gt; GET  /5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css</span><br><span class="line">HTTP/1.1 200     0.23 secs:   15629 bytes ==&gt; GET  /5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css</span><br><span class="line">HTTP/1.1 200     0.23 secs:   15629 bytes ==&gt; GET  /5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css</span><br><span class="line">HTTP/1.1 200     0.23 secs:   15629 bytes ==&gt; GET  /5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css</span><br><span class="line">HTTP/1.1 200     0.23 secs:   15629 bytes ==&gt; GET  /5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css</span><br><span class="line">HTTP/1.1 200     0.23 secs:   15629 bytes ==&gt; GET  /5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css</span><br><span class="line">HTTP/1.1 200     0.05 secs:    6511 bytes ==&gt; GET  /img/baidu_resultlogo@2.png</span><br><span class="line">HTTP/1.1 200     0.03 secs:    6511 bytes ==&gt; GET  /img/baidu_resultlogo@2.png</span><br><span class="line">HTTP/1.1 200     0.03 secs:    6511 bytes ==&gt; GET  /img/baidu_resultlogo@2.png</span><br><span class="line">HTTP/1.1 200     0.03 secs:    6511 bytes ==&gt; GET  /img/baidu_resultlogo@2.png</span><br><span class="line">HTTP/1.1 200     0.03 secs:    6511 bytes ==&gt; GET  /img/baidu_resultlogo@2.png</span><br><span class="line">HTTP/1.1 200     0.03 secs:    6511 bytes ==&gt; GET  /img/baidu_resultlogo@2.png</span><br><span class="line">HTTP/1.1 200     0.07 secs:   93750 bytes ==&gt; GET  /r/www/cache/static/jquery/jquery-1.10.2.min_65682a2.js</span><br><span class="line">HTTP/1.1 200     0.07 secs:    6511 bytes ==&gt; GET  /img/baidu_resultlogo@2.png</span><br><span class="line">HTTP/1.1 200     0.07 secs:    6511 bytes ==&gt; GET  /img/baidu_resultlogo@2.png</span><br><span class="line">HTTP/1.1 200     0.23 secs:   93750 bytes ==&gt; GET  /r/www/cache/static/jquery/jquery-1.10.2.min_65682a2.js</span><br><span class="line">HTTP/1.1 200     0.23 secs:   93750 bytes ==&gt; GET  /r/www/cache/static/jquery/jquery-1.10.2.min_65682a2.js</span><br><span class="line">HTTP/1.1 200     0.23 secs:   93750 bytes ==&gt; GET  /r/www/cache/static/jquery/jquery-1.10.2.min_65682a2.js</span><br><span class="line">HTTP/1.1 200     0.23 secs:   93750 bytes ==&gt; GET  /r/www/cache/static/jquery/jquery-1.10.2.min_65682a2.js</span><br><span class="line">HTTP/1.1 200     0.23 secs:   93750 bytes ==&gt; GET  /r/www/cache/static/jquery/jquery-1.10.2.min_65682a2.js</span><br><span class="line">HTTP/1.1 200     0.23 secs:   93750 bytes ==&gt; GET  /r/www/cache/static/jquery/jquery-1.10.2.min_65682a2.js</span><br><span class="line">HTTP/1.1 200     0.23 secs:   93750 bytes ==&gt; GET  /r/www/cache/static/jquery/jquery-1.10.2.min_65682a2.js</span><br><span class="line">HTTP/1.1 200     0.23 secs:   93750 bytes ==&gt; GET  /r/www/cache/static/jquery/jquery-1.10.2.min_65682a2.js</span><br><span class="line">HTTP/1.1 200     0.23 secs:    6511 bytes ==&gt; GET  /img/baidu_resultlogo@2.png</span><br><span class="line">HTTP/1.1 200     0.23 secs:   15629 bytes ==&gt; GET  /5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css</span><br><span class="line">HTTP/1.1 200     0.21 secs:   93750 bytes ==&gt; GET  /r/www/cache/static/jquery/jquery-1.10.2.min_65682a2.js</span><br><span class="line">HTTP/1.1 200     0.23 secs:   15629 bytes ==&gt; GET  /5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css</span><br><span class="line">HTTP/1.1 200     0.25 secs:     705 bytes ==&gt; GET  /img/baidu_jgylogo3.gif</span><br><span class="line">HTTP/1.1 200     0.02 secs:    6511 bytes ==&gt; GET  /img/baidu_resultlogo@2.png</span><br><span class="line">HTTP/1.1 200     0.03 secs:    6511 bytes ==&gt; GET  /img/baidu_resultlogo@2.png</span><br><span class="line">HTTP/1.1 200     0.03 secs:    6511 bytes ==&gt; GET  /img/baidu_resultlogo@2.png</span><br><span class="line">HTTP/1.1 200     0.03 secs:    6511 bytes ==&gt; GET  /img/baidu_resultlogo@2.png</span><br><span class="line">HTTP/1.1 200     0.07 secs:   93750 bytes ==&gt; GET  /r/www/cache/static/jquery/jquery-1.10.2.min_65682a2.js</span><br><span class="line">HTTP/1.1 200     0.07 secs:    6511 bytes ==&gt; GET  /img/baidu_resultlogo@2.png</span><br><span class="line">HTTP/1.1 200     0.07 secs:   93750 bytes ==&gt; GET  /r/www/cache/static/jquery/jquery-1.10.2.min_65682a2.js</span><br><span class="line">HTTP/1.1 200     0.07 secs:    6511 bytes ==&gt; GET  /img/baidu_resultlogo@2.png</span><br><span class="line">HTTP/1.1 200     0.07 secs:     705 bytes ==&gt; GET  /img/baidu_jgylogo3.gif</span><br><span class="line">HTTP/1.1 200     0.10 secs:    6511 bytes ==&gt; GET  /img/baidu_resultlogo@2.png</span><br><span class="line">HTTP/1.1 200     0.10 secs:    6511 bytes ==&gt; GET  /img/baidu_resultlogo@2.png</span><br><span class="line">HTTP/1.1 200     0.10 secs:    6511 bytes ==&gt; GET  /img/baidu_resultlogo@2.png</span><br><span class="line">HTTP/1.1 200     0.30 secs:     705 bytes ==&gt; GET  /img/baidu_jgylogo3.gif</span><br><span class="line">HTTP/1.1 200     0.08 secs:     705 bytes ==&gt; GET  /img/baidu_jgylogo3.gif</span><br><span class="line">HTTP/1.1 200     0.09 secs:  125885 bytes ==&gt; GET  /img/dong_ea2fa2b4265f8de36695726995008ec0.gif</span><br><span class="line">HTTP/1.1 200     0.08 secs:     705 bytes ==&gt; GET  /img/baidu_jgylogo3.gif</span><br><span class="line">HTTP/1.1 200     0.08 secs:     705 bytes ==&gt; GET  /img/baidu_jgylogo3.gif</span><br><span class="line">HTTP/1.1 200     0.08 secs:     705 bytes ==&gt; GET  /img/baidu_jgylogo3.gif</span><br><span class="line">HTTP/1.1 200     0.04 secs:    6511 bytes ==&gt; GET  /img/baidu_resultlogo@2.png</span><br><span class="line">HTTP/1.1 200     0.04 secs:     705 bytes ==&gt; GET  /img/baidu_jgylogo3.gif</span><br><span class="line">HTTP/1.1 200     0.04 secs:     705 bytes ==&gt; GET  /img/baidu_jgylogo3.gif</span><br><span class="line">HTTP/1.1 200     0.34 secs:  125885 bytes ==&gt; GET  /img/dong_ea2fa2b4265f8de36695726995008ec0.gif</span><br><span class="line">HTTP/1.1 200     0.34 secs:     705 bytes ==&gt; GET  /img/baidu_jgylogo3.gif</span><br><span class="line">HTTP/1.1 200     0.34 secs:     705 bytes ==&gt; GET  /img/baidu_jgylogo3.gif</span><br><span class="line">HTTP/1.1 200     0.34 secs:     705 bytes ==&gt; GET  /img/baidu_jgylogo3.gif</span><br><span class="line">HTTP/1.1 200     0.38 secs:    6511 bytes ==&gt; GET  /img/baidu_resultlogo@2.png</span><br><span class="line">HTTP/1.1 200     0.35 secs:  125885 bytes ==&gt; GET  /img/dong_ea2fa2b4265f8de36695726995008ec0.gif</span><br><span class="line">HTTP/1.1 200     0.34 secs:  125885 bytes ==&gt; GET  /img/dong_ea2fa2b4265f8de36695726995008ec0.gif</span><br><span class="line">HTTP/1.1 200     0.34 secs:  125885 bytes ==&gt; GET  /img/dong_ea2fa2b4265f8de36695726995008ec0.gif</span><br><span class="line"></span><br><span class="line">Lifting the server siege...</span><br><span class="line"><span class="comment"># 产生了170次点击</span></span><br><span class="line">Transactions:		         170 hits</span><br><span class="line"><span class="comment"># 可用性100%</span></span><br><span class="line">Availability:		      100.00 %</span><br><span class="line"><span class="comment"># 耗时</span></span><br><span class="line">Elapsed time:		        9.89 secs</span><br><span class="line">Data transferred:	        6.78 MB</span><br><span class="line">Response time:		        0.26 secs</span><br><span class="line">Transaction rate:	       17.19 trans/sec</span><br><span class="line">Throughput:		        0.69 MB/sec</span><br><span class="line">Concurrency:		        4.52</span><br><span class="line">Successful transactions:         172</span><br><span class="line">Failed transactions:	           0</span><br><span class="line">Longest transaction:	        1.03</span><br><span class="line">Shortest transaction:	        0.02</span><br></pre></td></tr></table></figure>

<h3 id="traceroute-vs-mtr"><a href="#traceroute-vs-mtr" class="headerlink" title="traceroute vs mtr"></a><code>traceroute</code> vs <code>mtr</code></h3><p>跟踪路由</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装</span></span><br><span class="line">yum install -y traceroute</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看百度</span></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># traceroute -4 www.baidu.com</span></span><br><span class="line">traceroute to www.baidu.com (182.61.200.7), 30 hops max, 60 byte packets</span><br><span class="line"> 1  gateway (192.168.1.1)  5.573 ms  6.114 ms  6.035 ms</span><br><span class="line"> 2  119.80.72.1 (119.80.72.1)  9.270 ms  9.183 ms  9.106 ms</span><br><span class="line"> 3  172.31.1.105 (172.31.1.105)  7.862 ms  8.438 ms  8.815 ms</span><br><span class="line"> 4  103.216.40.11 (103.216.40.11)  8.745 ms  10.112 ms  10.038 ms</span><br><span class="line"> 5  182.61.253.162 (182.61.253.162)  9.960 ms  10.804 ms 182.61.253.148 (182.61.253.148)  20.021 ms</span><br><span class="line"> 6  182.61.252.210 (182.61.252.210)  10.663 ms 182.61.252.220 (182.61.252.220)  7.085 ms 182.61.252.218 (182.61.252.218)  6.571 ms</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装mtr</span></span><br><span class="line">yum install -y mtr</span><br><span class="line"></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># mtr --report 8.8.8.8</span></span><br><span class="line">Start: Thu Jun  6 15:13:12 2019</span><br><span class="line">HOST: harbor-jenkins              Loss%   Snt   Last   Avg  Best  Wrst StDev</span><br><span class="line">  1.|-- gateway                    0.0%    10   42.2   7.2   1.0  42.2  12.9</span><br><span class="line">  2.|-- 119.80.72.1                0.0%    10    3.9   7.3   3.9  14.1   3.5</span><br><span class="line">  3.|-- 172.31.1.105               0.0%    10    3.4  19.0   2.7 106.2  31.9</span><br><span class="line">  4.|-- 124.207.182.97             0.0%    10    4.9  16.6   4.5  60.7  21.4</span><br><span class="line">  5.|-- 10.255.150.249             0.0%    10    8.8  13.8   6.9  60.1  16.3</span><br><span class="line">  6.|-- 218.241.255.221            0.0%    10    5.8   6.0   3.9   8.9   1.5</span><br></pre></td></tr></table></figure>

<h3 id="ping和fping"><a href="#ping和fping" class="headerlink" title="ping和fping"></a><code>ping</code>和<code>fping</code></h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装fping</span></span><br><span class="line">yum install -y fping</span><br><span class="line"></span><br><span class="line"><span class="comment"># ping 8.8.8.8, -s打印统计信息，-c 10 ping 10次</span></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># fping -e 8.8.8.8 -s -c 10</span></span><br><span class="line">8.8.8.8 : [0], 84 bytes, 53.9 ms (53.9 avg, 0% loss)</span><br><span class="line">8.8.8.8 : [1], 84 bytes, 53.2 ms (53.5 avg, 0% loss)</span><br><span class="line">8.8.8.8 : [2], 84 bytes, 50.0 ms (52.3 avg, 0% loss)</span><br><span class="line">8.8.8.8 : [3], 84 bytes, 73.7 ms (57.7 avg, 0% loss)</span><br><span class="line">8.8.8.8 : [4], 84 bytes, 54.4 ms (57.0 avg, 0% loss)</span><br><span class="line">8.8.8.8 : [5], 84 bytes, 57.0 ms (57.0 avg, 0% loss)</span><br><span class="line">8.8.8.8 : [6], 84 bytes, 51.2 ms (56.2 avg, 0% loss)</span><br><span class="line">8.8.8.8 : [7], 84 bytes, 56.2 ms (56.2 avg, 0% loss)</span><br><span class="line">8.8.8.8 : [8], 84 bytes, 50.0 ms (55.5 avg, 0% loss)</span><br><span class="line">8.8.8.8 : [9], 84 bytes, 54.0 ms (55.4 avg, 0% loss)</span><br><span class="line"></span><br><span class="line">8.8.8.8 : xmt/rcv/%loss = 10/10/0%, min/avg/max = 50.0/55.4/73.7</span><br><span class="line"></span><br><span class="line">       1 targets</span><br><span class="line">       1 alive</span><br><span class="line">       0 unreachable</span><br><span class="line">       0 unknown addresses</span><br><span class="line"></span><br><span class="line">       0 timeouts (waiting <span class="keyword">for</span> response)</span><br><span class="line">      10 ICMP Echos sent</span><br><span class="line">      10 ICMP Echo Replies received</span><br><span class="line">       0 other ICMP received</span><br><span class="line"></span><br><span class="line"> 50.0 ms (min round trip time)</span><br><span class="line"> 55.4 ms (avg round trip time)</span><br><span class="line"> 73.7 ms (max round trip time)</span><br><span class="line">        9.070 sec (elapsed real time)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 对当前网段内的机器进行扫描，有多少台机器是‘活得’</span></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># fping -g 192.168.1.0/24 -s -C 1 -q</span></span><br><span class="line">192.168.1.1   : 1.17</span><br><span class="line">192.168.1.2   : -</span><br><span class="line">192.168.1.3   : -</span><br><span class="line">192.168.1.4   : -</span><br><span class="line">192.168.1.5   : -</span><br><span class="line">192.168.1.6   : -</span><br><span class="line">192.168.1.7   : -</span><br><span class="line">192.168.1.8   : -</span><br><span class="line">192.168.1.9   : -</span><br><span class="line">192.168.1.10  : -</span><br><span class="line">192.168.1.11  : -</span><br><span class="line">192.168.1.12  : -</span><br><span class="line">192.168.1.13  : -</span><br><span class="line">192.168.1.14  : -</span><br><span class="line">192.168.1.15  : -</span><br><span class="line">192.168.1.16  : -</span><br><span class="line">192.168.1.17  : -</span><br><span class="line">192.168.1.18  : -</span><br><span class="line">192.168.1.19  : -</span><br><span class="line">192.168.1.20  : -</span><br><span class="line">192.168.1.21  : -</span><br><span class="line">192.168.1.22  : -</span><br><span class="line">192.168.1.23  : -</span><br><span class="line">192.168.1.24  : -</span><br><span class="line">192.168.1.25  : -</span><br><span class="line">192.168.1.26  : -</span><br><span class="line">192.168.1.27  : -</span><br><span class="line">192.168.1.28  : -</span><br><span class="line">192.168.1.29  : -</span><br><span class="line">192.168.1.30  : -</span><br><span class="line">192.168.1.31  : -</span><br><span class="line">192.168.1.32  : -</span><br><span class="line">192.168.1.33  : -</span><br><span class="line">192.168.1.34  : -</span><br><span class="line">192.168.1.35  : -</span><br><span class="line">192.168.1.36  : -</span><br><span class="line">192.168.1.37  : -</span><br><span class="line">192.168.1.38  : -</span><br><span class="line">192.168.1.39  : -</span><br><span class="line">192.168.1.40  : -</span><br><span class="line">192.168.1.41  : -</span><br><span class="line">192.168.1.42  : -</span><br><span class="line">192.168.1.43  : -</span><br><span class="line">192.168.1.44  : -</span><br><span class="line">192.168.1.45  : -</span><br><span class="line">192.168.1.46  : -</span><br><span class="line">192.168.1.47  : -</span><br><span class="line">192.168.1.48  : -</span><br><span class="line">192.168.1.49  : -</span><br><span class="line">192.168.1.50  : -</span><br><span class="line">192.168.1.51  : -</span><br><span class="line">192.168.1.52  : -</span><br><span class="line">192.168.1.53  : -</span><br><span class="line">192.168.1.54  : -</span><br><span class="line">192.168.1.55  : -</span><br><span class="line">192.168.1.56  : -</span><br><span class="line">192.168.1.57  : -</span><br><span class="line">192.168.1.58  : -</span><br><span class="line">192.168.1.59  : -</span><br><span class="line">192.168.1.60  : -</span><br><span class="line">192.168.1.61  : -</span><br><span class="line">192.168.1.62  : -</span><br><span class="line">192.168.1.63  : -</span><br><span class="line">192.168.1.64  : -</span><br><span class="line">192.168.1.65  : -</span><br><span class="line">192.168.1.66  : -</span><br><span class="line">192.168.1.67  : -</span><br><span class="line">192.168.1.68  : -</span><br><span class="line">192.168.1.69  : -</span><br><span class="line">192.168.1.70  : -</span><br><span class="line">192.168.1.71  : -</span><br><span class="line">192.168.1.72  : -</span><br><span class="line">192.168.1.73  : -</span><br><span class="line">192.168.1.74  : -</span><br><span class="line">192.168.1.75  : -</span><br><span class="line">192.168.1.76  : -</span><br><span class="line">192.168.1.77  : -</span><br><span class="line">192.168.1.78  : -</span><br><span class="line">192.168.1.79  : -</span><br><span class="line">192.168.1.80  : -</span><br><span class="line">192.168.1.81  : -</span><br><span class="line">192.168.1.82  : -</span><br><span class="line">192.168.1.83  : -</span><br><span class="line">192.168.1.84  : -</span><br><span class="line">192.168.1.85  : -</span><br><span class="line">192.168.1.86  : -</span><br><span class="line">192.168.1.87  : -</span><br><span class="line">192.168.1.88  : -</span><br><span class="line">192.168.1.89  : -</span><br><span class="line">192.168.1.90  : -</span><br><span class="line">192.168.1.91  : -</span><br><span class="line">192.168.1.92  : -</span><br><span class="line">192.168.1.93  : -</span><br><span class="line">192.168.1.94  : -</span><br><span class="line">192.168.1.95  : -</span><br><span class="line">192.168.1.96  : -</span><br><span class="line">192.168.1.97  : -</span><br><span class="line">192.168.1.98  : -</span><br><span class="line">192.168.1.99  : -</span><br><span class="line">192.168.1.100 : 288.75</span><br><span class="line">192.168.1.101 : -</span><br><span class="line">192.168.1.102 : 0.36</span><br><span class="line">192.168.1.103 : -</span><br><span class="line">192.168.1.104 : 0.06</span><br><span class="line">192.168.1.105 : 2.95</span><br><span class="line">192.168.1.106 : -</span><br><span class="line">192.168.1.107 : 1031.87</span><br><span class="line">192.168.1.108 : -</span><br><span class="line">192.168.1.109 : -</span><br><span class="line">192.168.1.110 : -</span><br><span class="line">192.168.1.111 : -</span><br><span class="line">192.168.1.112 : -</span><br><span class="line">192.168.1.113 : -</span><br><span class="line">192.168.1.114 : -</span><br><span class="line">192.168.1.115 : -</span><br><span class="line">192.168.1.116 : 0.85</span><br><span class="line">192.168.1.117 : -</span><br><span class="line">192.168.1.118 : 0.88</span><br><span class="line">192.168.1.119 : 2.28</span><br><span class="line">192.168.1.120 : -</span><br><span class="line">192.168.1.121 : -</span><br><span class="line">192.168.1.122 : -</span><br><span class="line">192.168.1.123 : -</span><br><span class="line">192.168.1.124 : -</span><br><span class="line">192.168.1.125 : -</span><br><span class="line">192.168.1.126 : -</span><br><span class="line">192.168.1.127 : -</span><br><span class="line">192.168.1.128 : -</span><br><span class="line">192.168.1.129 : -</span><br><span class="line">192.168.1.130 : -</span><br><span class="line">192.168.1.131 : -</span><br><span class="line">192.168.1.132 : -</span><br><span class="line">192.168.1.133 : -</span><br><span class="line">192.168.1.134 : -</span><br><span class="line">192.168.1.135 : -</span><br><span class="line">192.168.1.136 : -</span><br><span class="line">192.168.1.137 : -</span><br><span class="line">192.168.1.138 : -</span><br><span class="line">192.168.1.139 : -</span><br><span class="line">192.168.1.140 : -</span><br><span class="line">192.168.1.141 : -</span><br><span class="line">192.168.1.142 : -</span><br><span class="line">192.168.1.143 : -</span><br><span class="line">192.168.1.144 : -</span><br><span class="line">192.168.1.145 : -</span><br><span class="line">192.168.1.146 : -</span><br><span class="line">192.168.1.147 : -</span><br><span class="line">192.168.1.148 : -</span><br><span class="line">192.168.1.149 : -</span><br><span class="line">192.168.1.150 : -</span><br><span class="line">192.168.1.151 : -</span><br><span class="line">192.168.1.152 : -</span><br><span class="line">192.168.1.153 : -</span><br><span class="line">192.168.1.154 : -</span><br><span class="line">192.168.1.155 : -</span><br><span class="line">192.168.1.156 : -</span><br><span class="line">192.168.1.157 : -</span><br><span class="line">192.168.1.158 : -</span><br><span class="line">192.168.1.159 : -</span><br><span class="line">192.168.1.160 : -</span><br><span class="line">192.168.1.161 : -</span><br><span class="line">192.168.1.162 : -</span><br><span class="line">192.168.1.163 : -</span><br><span class="line">192.168.1.164 : -</span><br><span class="line">192.168.1.165 : -</span><br><span class="line">192.168.1.166 : -</span><br><span class="line">192.168.1.167 : -</span><br><span class="line">192.168.1.168 : -</span><br><span class="line">192.168.1.169 : -</span><br><span class="line">192.168.1.170 : -</span><br><span class="line">192.168.1.171 : -</span><br><span class="line">192.168.1.172 : -</span><br><span class="line">192.168.1.173 : -</span><br><span class="line">192.168.1.174 : -</span><br><span class="line">192.168.1.175 : -</span><br><span class="line">192.168.1.176 : -</span><br><span class="line">192.168.1.177 : -</span><br><span class="line">192.168.1.178 : -</span><br><span class="line">192.168.1.179 : -</span><br><span class="line">192.168.1.180 : -</span><br><span class="line">192.168.1.181 : -</span><br><span class="line">192.168.1.182 : -</span><br><span class="line">192.168.1.183 : -</span><br><span class="line">192.168.1.184 : -</span><br><span class="line">192.168.1.185 : -</span><br><span class="line">192.168.1.186 : -</span><br><span class="line">192.168.1.187 : -</span><br><span class="line">192.168.1.188 : -</span><br><span class="line">192.168.1.189 : -</span><br><span class="line">192.168.1.190 : -</span><br><span class="line">192.168.1.191 : -</span><br><span class="line">192.168.1.192 : -</span><br><span class="line">192.168.1.193 : -</span><br><span class="line">192.168.1.194 : -</span><br><span class="line">192.168.1.195 : -</span><br><span class="line">192.168.1.196 : -</span><br><span class="line">192.168.1.197 : -</span><br><span class="line">192.168.1.198 : -</span><br><span class="line">192.168.1.199 : -</span><br><span class="line">192.168.1.200 : -</span><br><span class="line">192.168.1.201 : -</span><br><span class="line">192.168.1.202 : -</span><br><span class="line">192.168.1.203 : -</span><br><span class="line">192.168.1.204 : -</span><br><span class="line">192.168.1.205 : -</span><br><span class="line">192.168.1.206 : -</span><br><span class="line">192.168.1.207 : -</span><br><span class="line">192.168.1.208 : -</span><br><span class="line">192.168.1.209 : -</span><br><span class="line">192.168.1.210 : -</span><br><span class="line">192.168.1.211 : -</span><br><span class="line">192.168.1.212 : -</span><br><span class="line">192.168.1.213 : -</span><br><span class="line">192.168.1.214 : -</span><br><span class="line">192.168.1.215 : -</span><br><span class="line">192.168.1.216 : -</span><br><span class="line">192.168.1.217 : -</span><br><span class="line">192.168.1.218 : -</span><br><span class="line">192.168.1.219 : -</span><br><span class="line">192.168.1.220 : -</span><br><span class="line">192.168.1.221 : -</span><br><span class="line">192.168.1.222 : -</span><br><span class="line">192.168.1.223 : -</span><br><span class="line">192.168.1.224 : -</span><br><span class="line">192.168.1.225 : -</span><br><span class="line">192.168.1.226 : -</span><br><span class="line">192.168.1.227 : -</span><br><span class="line">192.168.1.228 : -</span><br><span class="line">192.168.1.229 : -</span><br><span class="line">192.168.1.230 : -</span><br><span class="line">192.168.1.231 : -</span><br><span class="line">192.168.1.232 : -</span><br><span class="line">192.168.1.233 : -</span><br><span class="line">192.168.1.234 : -</span><br><span class="line">192.168.1.235 : -</span><br><span class="line">192.168.1.236 : -</span><br><span class="line">192.168.1.237 : -</span><br><span class="line">192.168.1.238 : -</span><br><span class="line">192.168.1.239 : -</span><br><span class="line">192.168.1.240 : -</span><br><span class="line">192.168.1.241 : -</span><br><span class="line">192.168.1.242 : -</span><br><span class="line">192.168.1.243 : -</span><br><span class="line">192.168.1.244 : -</span><br><span class="line">192.168.1.245 : -</span><br><span class="line">192.168.1.246 : -</span><br><span class="line">192.168.1.247 : -</span><br><span class="line">192.168.1.248 : -</span><br><span class="line">192.168.1.249 : -</span><br><span class="line">192.168.1.250 : -</span><br><span class="line">192.168.1.251 : -</span><br><span class="line">192.168.1.252 : -</span><br><span class="line">192.168.1.253 : -</span><br><span class="line">192.168.1.254 : -</span><br><span class="line"></span><br><span class="line">     254 targets</span><br><span class="line">       9 alive</span><br><span class="line">     245 unreachable</span><br><span class="line">       0 unknown addresses</span><br><span class="line"></span><br><span class="line">     245 timeouts (waiting <span class="keyword">for</span> response)</span><br><span class="line">     254 ICMP Echos sent</span><br><span class="line">       9 ICMP Echo Replies received</span><br><span class="line">     148 other ICMP received</span><br><span class="line"></span><br><span class="line"> 0.06 ms (min round trip time)</span><br><span class="line"> 147 ms (avg round trip time)</span><br><span class="line"> 1031 ms (max round trip time)</span><br><span class="line">        7.041 sec (elapsed real time)</span><br></pre></td></tr></table></figure>

<h3 id="ps-和-pidstat"><a href="#ps-和-pidstat" class="headerlink" title="ps 和 pidstat"></a><code>ps</code> 和 <code>pidstat</code></h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ps -ef</span></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># ps -ef</span></span><br><span class="line">UID         PID   PPID  C STIME TTY          TIME CMD</span><br><span class="line">root          1      0  0 13:23 ?        00:00:03 /usr/lib/systemd/systemd --switched-root --system -</span><br><span class="line">root          2      0  0 13:23 ?        00:00:00 [kthreadd]</span><br><span class="line">root          3      2  0 13:23 ?        00:00:00 [ksoftirqd/0]</span><br><span class="line">root          5      2  0 13:23 ?        00:00:00 [kworker/0:0H]</span><br><span class="line">root          7      2  0 13:23 ?        00:00:00 [migration/0]</span><br><span class="line">root          8      2  0 13:23 ?        00:00:00 [rcu_bh]</span><br><span class="line">root          9      2  0 13:23 ?        00:00:04 [rcu_sched]</span><br><span class="line">root         10      2  0 13:23 ?        00:00:00 [lru-add-drain]</span><br><span class="line">root         11      2  0 13:23 ?        00:00:00 [watchdog/0]</span><br><span class="line">root         12      2  0 13:23 ?        00:00:00 [watchdog/1]</span><br><span class="line">root         13      2  0 13:23 ?        00:00:00 [migration/1]</span><br><span class="line">root         14      2  0 13:23 ?        00:00:00 [ksoftirqd/1]</span><br><span class="line">root         16      2  0 13:23 ?        00:00:00 [kworker/1:0H]</span><br><span class="line">root         18      2  0 13:23 ?        00:00:00 [kdevtmpfs]</span><br><span class="line">root         19      2  0 13:23 ?        00:00:00 [netns]</span><br><span class="line">root         20      2  0 13:23 ?        00:00:00 [khungtaskd]</span><br><span class="line">root         21      2  0 13:23 ?        00:00:00 [writeback]</span><br><span class="line">root         22      2  0 13:23 ?        00:00:00 [kintegrityd]</span><br><span class="line">root         23      2  0 13:23 ?        00:00:00 [bioset]</span><br><span class="line">root         24      2  0 13:23 ?        00:00:00 [bioset]</span><br><span class="line">root         25      2  0 13:23 ?        00:00:00 [bioset]</span><br><span class="line">root         26      2  0 13:23 ?        00:00:00 [kblockd]</span><br><span class="line">root         27      2  0 13:23 ?        00:00:00 [md]</span><br><span class="line">root         28      2  0 13:23 ?        00:00:00 [edac-poller]</span><br><span class="line">root         29      2  0 13:23 ?        00:00:00 [watchdogd]</span><br><span class="line">root         35      2  0 13:23 ?        00:00:01 [kswapd0]</span><br><span class="line">root         36      2  0 13:23 ?        00:00:00 [ksmd]</span><br><span class="line">root         37      2  0 13:23 ?        00:00:00 [khugepaged]</span><br><span class="line">root         38      2  0 13:23 ?        00:00:00 [crypto]</span><br><span class="line">root         46      2  0 13:23 ?        00:00:00 [kthrotld]</span><br><span class="line">root         49      2  0 13:23 ?        00:00:00 [kmpath_rdacd]</span><br><span class="line">root         50      2  0 13:23 ?        00:00:00 [kaluad]</span><br><span class="line">root         51      2  0 13:23 ?        00:00:00 [kpsmoused]</span><br><span class="line">root         53      2  0 13:23 ?        00:00:00 [ipv6_addrconf]</span><br><span class="line">root         66      2  0 13:23 ?        00:00:00 [deferwq]</span><br><span class="line">root         99      2  0 13:23 ?        00:00:00 [kauditd]</span><br><span class="line">root        710      2  0 13:23 ?        00:00:00 [ata_sff]</span><br><span class="line">root        719      2  0 13:23 ?        00:00:00 [mpt_poll_0]</span><br><span class="line">root        728      2  0 13:23 ?        00:00:00 [mpt/0]</span><br><span class="line">root        799      2  0 13:23 ?        00:00:00 [scsi_eh_0]</span><br><span class="line">root        804      2  0 13:23 ?        00:00:00 [scsi_tmf_0]</span><br><span class="line">root        852      2  0 13:23 ?        00:00:00 [kworker/u256:2]</span><br><span class="line">root        853      2  0 13:23 ?        00:00:00 [scsi_eh_1]</span><br><span class="line">root        857      2  0 13:23 ?        00:00:00 [scsi_tmf_1]</span><br><span class="line">root        863      2  0 13:23 ?        00:00:00 [scsi_eh_2]</span><br><span class="line">root        866      2  0 13:23 ?        00:00:00 [scsi_tmf_2]</span><br><span class="line">root        874      2  0 13:23 ?        00:00:00 [ttm_swap]</span><br><span class="line">root        878      2  0 13:23 ?        00:00:00 [irq/16-vmwgfx]</span><br><span class="line">root       1738      2  0 13:23 ?        00:00:00 [nfit]</span><br><span class="line">root       3005      2  0 13:23 ?        00:00:00 [kdmflush]</span><br><span class="line">root       3007      2  0 13:23 ?        00:00:00 [bioset]</span><br><span class="line">root       3020      2  0 13:23 ?        00:00:00 [kdmflush]</span><br><span class="line">root       3023      2  0 13:23 ?        00:00:00 [bioset]</span><br><span class="line">root       3040      2  0 13:23 ?        00:00:00 [bioset]</span><br><span class="line">root       3046      2  0 13:23 ?        00:00:00 [xfsalloc]</span><br><span class="line">root       3051      2  0 13:23 ?        00:00:00 [xfs_mru_cache]</span><br><span class="line">root       3054      2  0 13:23 ?        00:00:00 [xfs-buf/dm-0]</span><br><span class="line">root       3057      2  0 13:23 ?        00:00:00 [xfs-data/dm-0]</span><br><span class="line">root       3058      2  0 13:23 ?        00:00:00 [xfs-conv/dm-0]</span><br><span class="line">root       3060      2  0 13:23 ?        00:00:00 [xfs-cil/dm-0]</span><br><span class="line">root       3061      2  0 13:23 ?        00:00:00 [xfs-reclaim/dm-]</span><br><span class="line">root       3062      2  0 13:23 ?        00:00:00 [xfs-log/dm-0]</span><br><span class="line">root       3063      2  0 13:23 ?        00:00:00 [xfs-eofblocks/d]</span><br><span class="line">root       3065      2  0 13:23 ?        00:00:04 [xfsaild/dm-0]</span><br><span class="line">root       3066      2  0 13:23 ?        00:00:00 [kworker/0:1H]</span><br><span class="line">root       3134      1  0 13:23 ?        00:00:00 /usr/lib/systemd/systemd-journald</span><br><span class="line">root       3151      1  0 13:23 ?        00:00:00 /usr/sbin/lvmetad -f</span><br><span class="line">root       3169      1  0 13:23 ?        00:00:00 /usr/lib/systemd/systemd-udevd</span><br><span class="line">root       4957      2  0 13:23 ?        00:00:00 [xfs-buf/sda1]</span><br><span class="line">root       4962      2  0 13:23 ?        00:00:00 [xfs-data/sda1]</span><br><span class="line">root       4963      2  0 13:23 ?        00:00:00 [xfs-conv/sda1]</span><br><span class="line">root       4964      2  0 13:23 ?        00:00:00 [xfs-cil/sda1]</span><br><span class="line">root       4965      2  0 13:23 ?        00:00:00 [xfs-reclaim/sda]</span><br><span class="line">root       4967      2  0 13:23 ?        00:00:00 [xfs-log/sda1]</span><br><span class="line">root       4968      2  0 13:23 ?        00:00:00 [xfs-eofblocks/s]</span><br><span class="line">root       4969      2  0 13:23 ?        00:00:00 [xfsaild/sda1]</span><br><span class="line">root       5027      2  0 13:23 ?        00:00:00 [kworker/u257:0]</span><br><span class="line">root       5028      2  0 13:23 ?        00:00:00 [hci0]</span><br><span class="line">root       5029      2  0 13:23 ?        00:00:00 [hci0]</span><br><span class="line">root       5031      2  0 13:23 ?        00:00:00 [kworker/u257:2]</span><br><span class="line">root       5174      1  0 13:23 ?        00:00:00 /sbin/auditd</span><br><span class="line">dbus       5978      1  0 13:23 ?        00:00:00 /usr/bin/dbus-daemon --system --address=systemd: --</span><br><span class="line">root       6012      1  0 13:23 ?        00:00:00 /usr/sbin/irqbalance --foreground</span><br><span class="line">root       6017      1  0 13:23 ?        00:00:00 /usr/bin/VGAuthService -s</span><br><span class="line">polkitd    6023      1  0 13:23 ?        00:00:00 /usr/lib/polkit-1/polkitd --no-debug</span><br><span class="line">root       6031      1  0 13:23 ?        00:00:07 /usr/bin/vmtoolsd</span><br><span class="line">root       6035      1  0 13:23 ?        00:00:00 /usr/lib/systemd/systemd-logind</span><br><span class="line">chrony     6038      1  0 13:23 ?        00:00:00 /usr/sbin/chronyd</span><br><span class="line">root       6039      1  0 13:23 ?        00:00:00 /usr/sbin/NetworkManager --no-daemon</span><br><span class="line">root       6049      1  0 13:23 ?        00:00:00 /usr/sbin/crond -n</span><br><span class="line">root       6069      1  0 13:23 tty1     00:00:00 /sbin/agetty --noclear tty1 linux</span><br><span class="line">root       6622      1  0 13:23 ?        00:00:00 /usr/sbin/sshd -D</span><br><span class="line">root       6625      1  0 13:23 ?        00:00:00 /usr/sbin/rsyslogd -n</span><br><span class="line">root       6628      1  0 13:23 ?        00:00:01 /usr/bin/python2 -Es /usr/sbin/tuned -l -P</span><br><span class="line">root       6644      1  0 13:23 ?        00:00:39 /usr/bin/containerd</span><br><span class="line">root       6647      1  0 13:23 ?        00:00:14 /usr/bin/dockerd -H fd:// --containerd=/run/contain</span><br><span class="line">root       7011      2  0 13:23 ?        00:00:00 [kworker/1:1H]</span><br><span class="line">root       7136      1  0 13:23 ?        00:00:00 /usr/libexec/postfix/master -w</span><br><span class="line">postfix    7199   7136  0 13:23 ?        00:00:00 qmgr -l -t unix -u</span><br><span class="line">root       7969   6647  0 13:23 ?        00:00:00 /usr/bin/docker-proxy -proto tcp -host-ip 127.0.0.1</span><br><span class="line">root       8088   6644  0 13:23 ?        00:00:04 containerd-shim -namespace moby -workdir /var/lib/c</span><br><span class="line">root       8103   6647  0 13:23 ?        00:00:00 /usr/bin/docker-proxy -proto tcp -host-ip 0.0.0.0 -</span><br><span class="line">root       8188   6647  0 13:23 ?        00:00:00 /usr/bin/docker-proxy -proto tcp -host-ip 0.0.0.0 -</span><br><span class="line">root       8222   6644  0 13:23 ?        00:00:04 containerd-shim -namespace moby -workdir /var/lib/c</span><br><span class="line">root       8244   8088  0 13:23 ?        00:00:00 /bin/bash /usr/<span class="built_in">local</span>/bin/start.sh</span><br><span class="line">jenkins    8250      1  0 13:23 ?        00:00:40 /etc/alternatives/java -Dcom.sun.akuma.Daemon=daemo</span><br><span class="line">root       8277   6647  0 13:23 ?        00:00:00 /usr/bin/docker-proxy -proto tcp -host-ip 0.0.0.0 -</span><br><span class="line">root       8319   6644  0 13:23 ?        00:00:00 containerd-shim -namespace moby -workdir /var/lib/c</span><br><span class="line">root       8374   6644  0 13:23 ?        00:00:04 containerd-shim -namespace moby -workdir /var/lib/c</span><br><span class="line">root       8469   8222  0 13:23 ?        00:00:00 /bin/sh /entrypoint.sh serve /etc/registry/config.y</span><br><span class="line">root       8508   8319  0 13:23 ?        00:00:00 sudo -u redis redis-server /etc/redis.conf</span><br><span class="line">root       8550   8374  0 13:23 ?        00:00:00 nginx: master process nginx -g daemon off;</span><br><span class="line">root       9020   8244  0 13:23 ?        00:00:00 crond</span><br><span class="line">root       9024   8244  0 13:23 ?        00:00:00 sudo -u <span class="comment">#10000 -E rsyslogd -n</span></span><br><span class="line">10000      9107   9024  0 13:23 ?        00:00:00 rsyslogd -n</span><br><span class="line">root       9206   8469  0 13:23 ?        00:00:00 sudo -E -u <span class="comment">#10000 registry serve /etc/registry/conf</span></span><br><span class="line">10000      9225   9206  0 13:23 ?        00:00:00 registry serve /etc/registry/config.yml</span><br><span class="line">65534      9235   8550  0 13:23 ?        00:00:00 nginx: worker process</span><br><span class="line">65534      9236   8550  0 13:23 ?        00:00:00 nginx: worker process</span><br><span class="line">polkitd    9278   8508  0 13:23 ?        00:00:12 redis-server *:6379</span><br><span class="line">root      17749   6622  0 13:24 ?        00:00:00 sshd: root@pts/0</span><br><span class="line">root      17752  17749  0 13:24 pts/0    00:00:00 -bash</span><br><span class="line">root      19583   6644  0 13:28 ?        00:00:00 containerd-shim -namespace moby -workdir /var/lib/c</span><br><span class="line">root      19601  19583  0 13:28 ?        00:00:00 /bin/sh /harbor/start.sh</span><br><span class="line">root      19663  19601  0 13:28 ?        00:00:00 sudo -E -u <span class="comment">#10000 /harbor/harbor_jobservice -c /etc</span></span><br><span class="line">10000     19678  19663  0 13:28 ?        00:00:09 /harbor/harbor_jobservice -c /etc/jobservice/config</span><br><span class="line">root      19679   6644  0 13:28 ?        00:00:03 containerd-shim -namespace moby -workdir /var/lib/c</span><br><span class="line">root      19701  19679  0 13:28 ?        00:00:00 sudo -u mysql -E /usr/<span class="built_in">local</span>/bin/docker-entrypoint.s</span><br><span class="line">root      19782   6644  0 13:28 ?        00:00:03 containerd-shim -namespace moby -workdir /var/lib/c</span><br><span class="line">root      19807  19782  0 13:28 ?        00:00:00 /bin/sh /harbor/start.sh</span><br><span class="line">10000     19891  19701  0 13:28 ?        00:00:02 mysqld</span><br><span class="line">root      19925  19807  0 13:28 ?        00:00:00 sudo -E -u <span class="comment">#10000 /harbor/harbor_adminserver</span></span><br><span class="line">10000     19926  19925  0 13:28 ?        00:00:00 /harbor/harbor_adminserver</span><br><span class="line">root      19986   6644  0 13:28 ?        00:00:03 containerd-shim -namespace moby -workdir /var/lib/c</span><br><span class="line">root      20015  19986  0 13:28 ?        00:00:00 /bin/sh /harbor/start.sh</span><br><span class="line">root      20077  20015  0 13:28 ?        00:00:00 sudo -E -u <span class="comment">#10000 /harbor/harbor_ui</span></span><br><span class="line">10000     20082  20077  0 13:28 ?        00:00:00 /harbor/harbor_ui</span><br><span class="line">root      20087      2  0 13:28 ?        00:00:00 [dio/dm-0]</span><br><span class="line">root      64336   6622  0 14:49 ?        00:00:00 sshd: root@pts/1</span><br><span class="line">root      64339  64336  0 14:49 pts/1    00:00:00 -bash</span><br><span class="line">root      65974      2  0 14:51 ?        00:00:00 [kworker/u256:0]</span><br><span class="line">root      69916      2  0 14:58 ?        00:00:00 [kworker/1:0]</span><br><span class="line">postfix   72217   7136  0 15:03 ?        00:00:00 pickup -l -t unix -u</span><br><span class="line">root      72494      2  0 15:03 ?        00:00:00 [kworker/0:0]</span><br><span class="line">root      75666      2  0 15:09 ?        00:00:00 [kworker/1:1]</span><br><span class="line">root      78024      2  0 15:13 ?        00:00:00 [kworker/0:2]</span><br><span class="line">root      78668      2  0 15:14 ?        00:00:00 [kworker/1:2]</span><br><span class="line">root      80748      2  0 15:18 ?        00:00:00 [kworker/0:1]</span><br><span class="line">root      82963  17752  0 15:22 pts/0    00:00:00 ps -ef</span><br><span class="line"></span><br><span class="line"><span class="comment"># ps aux</span></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># ps aux</span></span><br><span class="line">USER        PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND</span><br><span class="line">root          1  0.0  0.2 128120  5276 ?        Ss   13:23   0:03 /usr/lib/systemd/systemd --switched</span><br><span class="line">root          2  0.0  0.0      0     0 ?        S    13:23   0:00 [kthreadd]</span><br><span class="line">root          3  0.0  0.0      0     0 ?        S    13:23   0:00 [ksoftirqd/0]</span><br><span class="line">root          5  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [kworker/0:0H]</span><br><span class="line">root          7  0.0  0.0      0     0 ?        S    13:23   0:00 [migration/0]</span><br><span class="line">root          8  0.0  0.0      0     0 ?        S    13:23   0:00 [rcu_bh]</span><br><span class="line">root          9  0.0  0.0      0     0 ?        S    13:23   0:04 [rcu_sched]</span><br><span class="line">root         10  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [lru-add-drain]</span><br><span class="line">root         11  0.0  0.0      0     0 ?        S    13:23   0:00 [watchdog/0]</span><br><span class="line">root         12  0.0  0.0      0     0 ?        S    13:23   0:00 [watchdog/1]</span><br><span class="line">root         13  0.0  0.0      0     0 ?        S    13:23   0:00 [migration/1]</span><br><span class="line">root         14  0.0  0.0      0     0 ?        S    13:23   0:00 [ksoftirqd/1]</span><br><span class="line">root         16  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [kworker/1:0H]</span><br><span class="line">root         18  0.0  0.0      0     0 ?        S    13:23   0:00 [kdevtmpfs]</span><br><span class="line">root         19  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [netns]</span><br><span class="line">root         20  0.0  0.0      0     0 ?        S    13:23   0:00 [khungtaskd]</span><br><span class="line">root         21  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [writeback]</span><br><span class="line">root         22  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [kintegrityd]</span><br><span class="line">root         23  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [bioset]</span><br><span class="line">root         24  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [bioset]</span><br><span class="line">root         25  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [bioset]</span><br><span class="line">root         26  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [kblockd]</span><br><span class="line">root         27  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [md]</span><br><span class="line">root         28  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [edac-poller]</span><br><span class="line">root         29  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [watchdogd]</span><br><span class="line">root         35  0.0  0.0      0     0 ?        S    13:23   0:01 [kswapd0]</span><br><span class="line">root         36  0.0  0.0      0     0 ?        SN   13:23   0:00 [ksmd]</span><br><span class="line">root         37  0.0  0.0      0     0 ?        SN   13:23   0:00 [khugepaged]</span><br><span class="line">root         38  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [crypto]</span><br><span class="line">root         46  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [kthrotld]</span><br><span class="line">root         49  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [kmpath_rdacd]</span><br><span class="line">root         50  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [kaluad]</span><br><span class="line">root         51  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [kpsmoused]</span><br><span class="line">root         53  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [ipv6_addrconf]</span><br><span class="line">root         66  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [deferwq]</span><br><span class="line">root         99  0.0  0.0      0     0 ?        S    13:23   0:00 [kauditd]</span><br><span class="line">root        710  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [ata_sff]</span><br><span class="line">root        719  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [mpt_poll_0]</span><br><span class="line">root        728  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [mpt/0]</span><br><span class="line">root        799  0.0  0.0      0     0 ?        S    13:23   0:00 [scsi_eh_0]</span><br><span class="line">root        804  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [scsi_tmf_0]</span><br><span class="line">root        852  0.0  0.0      0     0 ?        S    13:23   0:00 [kworker/u256:2]</span><br><span class="line">root        853  0.0  0.0      0     0 ?        S    13:23   0:00 [scsi_eh_1]</span><br><span class="line">root        857  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [scsi_tmf_1]</span><br><span class="line">root        863  0.0  0.0      0     0 ?        S    13:23   0:00 [scsi_eh_2]</span><br><span class="line">root        866  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [scsi_tmf_2]</span><br><span class="line">root        874  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [ttm_swap]</span><br><span class="line">root        878  0.0  0.0      0     0 ?        S    13:23   0:00 [irq/16-vmwgfx]</span><br><span class="line">root       1738  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [nfit]</span><br><span class="line">root       3005  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [kdmflush]</span><br><span class="line">root       3007  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [bioset]</span><br><span class="line">root       3020  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [kdmflush]</span><br><span class="line">root       3023  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [bioset]</span><br><span class="line">root       3040  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [bioset]</span><br><span class="line">root       3046  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [xfsalloc]</span><br><span class="line">root       3051  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [xfs_mru_cache]</span><br><span class="line">root       3054  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [xfs-buf/dm-0]</span><br><span class="line">root       3057  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [xfs-data/dm-0]</span><br><span class="line">root       3058  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [xfs-conv/dm-0]</span><br><span class="line">root       3060  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [xfs-cil/dm-0]</span><br><span class="line">root       3061  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [xfs-reclaim/dm-]</span><br><span class="line">root       3062  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [xfs-log/dm-0]</span><br><span class="line">root       3063  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [xfs-eofblocks/d]</span><br><span class="line">root       3065  0.0  0.0      0     0 ?        S    13:23   0:04 [xfsaild/dm-0]</span><br><span class="line">root       3066  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [kworker/0:1H]</span><br><span class="line">root       3134  0.0  0.1  39080  3528 ?        Ss   13:23   0:00 /usr/lib/systemd/systemd-journald</span><br><span class="line">root       3151  0.0  0.1 127372  3100 ?        Ss   13:23   0:00 /usr/sbin/lvmetad -f</span><br><span class="line">root       3169  0.0  0.1  48364  3708 ?        Ss   13:23   0:00 /usr/lib/systemd/systemd-udevd</span><br><span class="line">root       4957  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [xfs-buf/sda1]</span><br><span class="line">root       4962  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [xfs-data/sda1]</span><br><span class="line">root       4963  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [xfs-conv/sda1]</span><br><span class="line">root       4964  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [xfs-cil/sda1]</span><br><span class="line">root       4965  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [xfs-reclaim/sda]</span><br><span class="line">root       4967  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [xfs-log/sda1]</span><br><span class="line">root       4968  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [xfs-eofblocks/s]</span><br><span class="line">root       4969  0.0  0.0      0     0 ?        S    13:23   0:00 [xfsaild/sda1]</span><br><span class="line">root       5027  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [kworker/u257:0]</span><br><span class="line">root       5028  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [hci0]</span><br><span class="line">root       5029  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [hci0]</span><br><span class="line">root       5031  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [kworker/u257:2]</span><br><span class="line">root       5174  0.0  0.0  55520   744 ?        S&lt;sl 13:23   0:00 /sbin/auditd</span><br><span class="line">dbus       5978  0.0  0.0  66460  1832 ?        Ssl  13:23   0:00 /usr/bin/dbus-daemon --system --add</span><br><span class="line">root       6012  0.0  0.0  21676  1048 ?        Ss   13:23   0:00 /usr/sbin/irqbalance --foreground</span><br><span class="line">root       6017  0.0  0.1  99668  2516 ?        Ss   13:23   0:00 /usr/bin/VGAuthService -s</span><br><span class="line">polkitd    6023  0.0  0.4 612228  8220 ?        Ssl  13:23   0:00 /usr/lib/polkit-1/polkitd --no-debu</span><br><span class="line">root       6031  0.0  0.1 227308  2932 ?        Ss   13:23   0:07 /usr/bin/vmtoolsd</span><br><span class="line">root       6035  0.0  0.0  26376  1500 ?        Ss   13:23   0:00 /usr/lib/systemd/systemd-logind</span><br><span class="line">chrony     6038  0.0  0.0 117784  1444 ?        S    13:23   0:00 /usr/sbin/chronyd</span><br><span class="line">root       6039  0.0  0.1 474380  3716 ?        Ssl  13:23   0:00 /usr/sbin/NetworkManager --no-daemo</span><br><span class="line">root       6049  0.0  0.0 126284  1448 ?        Ss   13:23   0:00 /usr/sbin/crond -n</span><br><span class="line">root       6069  0.0  0.0 110104   792 tty1     Ss+  13:23   0:00 /sbin/agetty --noclear tty1 linux</span><br><span class="line">root       6622  0.0  0.1 112864  1896 ?        Ss   13:23   0:00 /usr/sbin/sshd -D</span><br><span class="line">root       6625  0.0  0.2 222748  3888 ?        Ssl  13:23   0:00 /usr/sbin/rsyslogd -n</span><br><span class="line">root       6628  0.0  0.5 573924 10412 ?        Ssl  13:23   0:01 /usr/bin/python2 -Es /usr/sbin/tune</span><br><span class="line">root       6644  0.5  1.6 601612 31088 ?        Ssl  13:23   0:40 /usr/bin/containerd</span><br><span class="line">root       6647  0.2  2.0 1000860 38692 ?       Ssl  13:23   0:15 /usr/bin/dockerd -H fd:// --contain</span><br><span class="line">root       7011  0.0  0.0      0     0 ?        S&lt;   13:23   0:00 [kworker/1:1H]</span><br><span class="line">root       7136  0.0  0.0  89652  1520 ?        Ss   13:23   0:00 /usr/libexec/postfix/master -w</span><br><span class="line">postfix    7199  0.0  0.0  89824  1760 ?        S    13:23   0:00 qmgr -l -t unix -u</span><br><span class="line">root       7969  0.0  0.1 119880  2008 ?        Sl   13:23   0:00 /usr/bin/docker-proxy -proto tcp -h</span><br><span class="line">root       8088  0.0  0.2  10720  4732 ?        Sl   13:23   0:04 containerd-shim -namespace moby -wo</span><br><span class="line">root       8103  0.0  0.0 190892  1564 ?        Sl   13:23   0:00 /usr/bin/docker-proxy -proto tcp -h</span><br><span class="line">root       8188  0.0  0.0 125356  1568 ?        Sl   13:23   0:00 /usr/bin/docker-proxy -proto tcp -h</span><br><span class="line">root       8222  0.0  0.1  10720  3208 ?        Sl   13:23   0:04 containerd-shim -namespace moby -wo</span><br><span class="line">root       8244  0.0  0.0  18240   444 ?        Ss   13:23   0:00 /bin/bash /usr/<span class="built_in">local</span>/bin/start.sh</span><br><span class="line">jenkins    8250  0.5 14.5 3123940 270896 ?      Ssl  13:23   0:40 /etc/alternatives/java -Dcom.sun.ak</span><br><span class="line">root       8277  0.0  0.0 117160  1568 ?        Sl   13:23   0:00 /usr/bin/docker-proxy -proto tcp -h</span><br><span class="line">root       8319  0.0  0.1  10720  2124 ?        Sl   13:23   0:00 containerd-shim -namespace moby -wo</span><br><span class="line">root       8374  0.0  0.1  11776  3460 ?        Sl   13:23   0:04 containerd-shim -namespace moby -wo</span><br><span class="line">root       8469  0.0  0.0  18240   152 ?        Ss   13:23   0:00 /bin/sh /entrypoint.sh serve /etc/r</span><br><span class="line">root       8508  0.0  0.0  60696   208 ?        Ss   13:23   0:00 sudo -u redis redis-server /etc/red</span><br><span class="line">root       8550  0.0  0.0  42620  1796 ?        Ss   13:23   0:00 nginx: master process nginx -g daem</span><br><span class="line">root       9020  0.0  0.0  18116   804 ?        Ss   13:23   0:00 crond</span><br><span class="line">root       9024  0.0  0.0  60696   696 ?        S    13:23   0:00 sudo -u <span class="comment">#10000 -E rsyslogd -n</span></span><br><span class="line">10000      9107  0.0  0.1 348788  3200 ?        Sl   13:23   0:00 rsyslogd -n</span><br><span class="line">root       9206  0.0  0.0  44584   356 ?        S    13:23   0:00 sudo -E -u <span class="comment">#10000 registry serve /e</span></span><br><span class="line">10000      9225  0.0  0.2 210528  4480 ?        Sl   13:23   0:00 registry serve /etc/registry/config</span><br><span class="line">65534      9235  0.0  0.1  43220  2600 ?        S    13:23   0:00 nginx: worker process</span><br><span class="line">65534      9236  0.0  0.1  43220  2872 ?        S    13:23   0:00 nginx: worker process</span><br><span class="line">polkitd    9278  0.1  0.2  41664  4416 ?        Sl   13:23   0:12 redis-server *:6379</span><br><span class="line">root      17749  0.0  0.1 158868  2440 ?        Ds   13:24   0:00 sshd: root@pts/0</span><br><span class="line">root      17752  0.0  0.0 115440  1832 pts/0    Ss   13:24   0:00 -bash</span><br><span class="line">root      19583  0.0  0.1  10720  2360 ?        Sl   13:28   0:00 containerd-shim -namespace moby -wo</span><br><span class="line">root      19601  0.0  0.0  18240    92 ?        Ss   13:28   0:00 /bin/sh /harbor/start.sh</span><br><span class="line">root      19663  0.0  0.0  44584   348 ?        S    13:28   0:00 sudo -E -u <span class="comment">#10000 /harbor/harbor_jo</span></span><br><span class="line">10000     19678  0.1  0.3 354696  5984 ?        Sl   13:28   0:09 /harbor/harbor_jobservice -c /etc/j</span><br><span class="line">root      19679  0.0  0.1  10720  3396 ?        Sl   13:28   0:03 containerd-shim -namespace moby -wo</span><br><span class="line">root      19701  0.0  0.0  60696   176 ?        Ss   13:28   0:00 sudo -u mysql -E /usr/<span class="built_in">local</span>/bin/doc</span><br><span class="line">root      19782  0.0  0.1  10720  3460 ?        Sl   13:28   0:03 containerd-shim -namespace moby -wo</span><br><span class="line">root      19807  0.0  0.0  18240   260 ?        Ss   13:28   0:00 /bin/sh /harbor/start.sh</span><br><span class="line">10000     19891  0.0  5.7 1940080 107152 ?      Sl   13:28   0:02 mysqld</span><br><span class="line">root      19925  0.0  0.0  44584   472 ?        S    13:28   0:00 sudo -E -u <span class="comment">#10000 /harbor/harbor_ad</span></span><br><span class="line">10000     19926  0.0  0.2 194520  4464 ?        Sl   13:28   0:00 /harbor/harbor_adminserver</span><br><span class="line">root      19986  0.0  0.1  10720  3400 ?        Sl   13:28   0:03 containerd-shim -namespace moby -wo</span><br><span class="line">root      20015  0.0  0.0  18240    84 ?        Ss   13:28   0:00 /bin/sh /harbor/start.sh</span><br><span class="line">root      20077  0.0  0.0  44584   308 ?        S    13:28   0:00 sudo -E -u <span class="comment">#10000 /harbor/harbor_ui</span></span><br><span class="line">10000     20082  0.0  0.4 349524  8712 ?        Sl   13:28   0:00 /harbor/harbor_ui</span><br><span class="line">root      20087  0.0  0.0      0     0 ?        S&lt;   13:28   0:00 [dio/dm-0]</span><br><span class="line">root      64336  0.0  0.3 158876  5752 ?        Ss   14:49   0:00 sshd: root@pts/1</span><br><span class="line">root      64339  0.0  0.1 115440  2076 pts/1    Ss+  14:49   0:00 -bash</span><br><span class="line">root      65974  0.0  0.0      0     0 ?        S    14:51   0:00 [kworker/u256:0]</span><br><span class="line">root      69916  0.0  0.0      0     0 ?        S    14:58   0:00 [kworker/1:0]</span><br><span class="line">postfix   72217  0.0  0.2  89756  4084 ?        S    15:03   0:00 pickup -l -t unix -u</span><br><span class="line">root      72494  0.0  0.0      0     0 ?        S    15:03   0:00 [kworker/0:0]</span><br><span class="line">root      75666  0.0  0.0      0     0 ?        S    15:09   0:00 [kworker/1:1]</span><br><span class="line">root      78024  0.0  0.0      0     0 ?        S    15:13   0:00 [kworker/0:2]</span><br><span class="line">root      78668  0.0  0.0      0     0 ?        R    15:14   0:00 [kworker/1:2]</span><br><span class="line">root      80748  0.0  0.0      0     0 ?        S    15:18   0:00 [kworker/0:1]</span><br><span class="line">root      83288  0.0  0.1 155360  1884 pts/0    R+   15:23   0:00 ps aux</span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装</span></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># yum search pidstat</span></span><br><span class="line">Loaded plugins: fastestmirror</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line"> * base: mirror.jdcloud.com</span><br><span class="line"> * epel: mirrors.tuna.tsinghua.edu.cn</span><br><span class="line"> * extras: mirror.jdcloud.com</span><br><span class="line"> * updates: mirror.jdcloud.com</span><br><span class="line">========================================= Matched: pidstat ==========================================</span><br><span class="line">sysstat.x86_64 : Collection of performance monitoring tools <span class="keyword">for</span> Linux</span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># yum install -y sysstat.x86_64</span></span><br><span class="line">Loaded plugins: fastestmirror</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line"> * base: mirror.jdcloud.com</span><br><span class="line"> * epel: mirrors.tuna.tsinghua.edu.cn</span><br><span class="line"> * extras: mirror.jdcloud.com</span><br><span class="line"> * updates: mirror.jdcloud.com</span><br><span class="line">Resolving Dependencies</span><br><span class="line">--&gt; Running transaction check</span><br><span class="line">---&gt; Package sysstat.x86_64 0:10.1.5-17.el7 will be installed</span><br><span class="line">--&gt; Processing Dependency: libsensors.so.4()(64bit) <span class="keyword">for</span> package: sysstat-10.1.5-17.el7.x86_64</span><br><span class="line">--&gt; Running transaction check</span><br><span class="line">---&gt; Package lm_sensors-libs.x86_64 0:3.4.0-6.20160601gitf9185e5.el7 will be installed</span><br><span class="line">--&gt; Finished Dependency Resolution</span><br><span class="line"></span><br><span class="line">Dependencies Resolved</span><br><span class="line"></span><br><span class="line">=====================================================================================================</span><br><span class="line"> Package                 Arch           Version                                   Repository    Size</span><br><span class="line">=====================================================================================================</span><br><span class="line">Installing:</span><br><span class="line"> sysstat                 x86_64         10.1.5-17.el7                             base         315 k</span><br><span class="line">Installing <span class="keyword">for</span> dependencies:</span><br><span class="line"> lm_sensors-libs         x86_64         3.4.0-6.20160601gitf9185e5.el7            base          42 k</span><br><span class="line"></span><br><span class="line">Transaction Summary</span><br><span class="line">=====================================================================================================</span><br><span class="line">Install  1 Package (+1 Dependent package)</span><br><span class="line"></span><br><span class="line">Total download size: 356 k</span><br><span class="line">Installed size: 1.2 M</span><br><span class="line">Downloading packages:</span><br><span class="line">(1/2): lm_sensors-libs-3.4.0-6.20160601gitf9185e5.el7.x86_64.rpm              |  42 kB  00:00:00</span><br><span class="line">(2/2): sysstat-10.1.5-17.el7.x86_64.rpm                                       | 315 kB  00:00:00</span><br><span class="line">-----------------------------------------------------------------------------------------------------</span><br><span class="line">Total                                                                1.3 MB/s | 356 kB  00:00:00</span><br><span class="line">Running transaction check</span><br><span class="line">Running transaction <span class="built_in">test</span></span><br><span class="line">Transaction <span class="built_in">test</span> succeeded</span><br><span class="line">Running transaction</span><br><span class="line">  Installing : lm_sensors-libs-3.4.0-6.20160601gitf9185e5.el7.x86_64                             1/2</span><br><span class="line">  Installing : sysstat-10.1.5-17.el7.x86_64                                                      2/2</span><br><span class="line">  Verifying  : lm_sensors-libs-3.4.0-6.20160601gitf9185e5.el7.x86_64                             1/2</span><br><span class="line">  Verifying  : sysstat-10.1.5-17.el7.x86_64                                                      2/2</span><br><span class="line"></span><br><span class="line">Installed:</span><br><span class="line">  sysstat.x86_64 0:10.1.5-17.el7</span><br><span class="line"></span><br><span class="line">Dependency Installed:</span><br><span class="line">  lm_sensors-libs.x86_64 0:3.4.0-6.20160601gitf9185e5.el7</span><br><span class="line"></span><br><span class="line">Complete!</span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># pidstat</span></span><br><span class="line">Linux 3.10.0-957.12.2.el7.x86_64 (harbor-jenkins) 	06/06/2019 	_x86_64_	(2 CPU)</span><br><span class="line"></span><br><span class="line">03:25:46 PM   UID       PID    %usr %system  %guest    %CPU   CPU  Command</span><br><span class="line">03:25:46 PM     0         1    0.02    0.04    0.00    0.05     0  systemd</span><br><span class="line">03:25:46 PM     0         2    0.00    0.00    0.00    0.00     1  kthreadd</span><br><span class="line">03:25:46 PM     0         3    0.00    0.00    0.00    0.00     0  ksoftirqd/0</span><br><span class="line">03:25:46 PM     0         7    0.00    0.00    0.00    0.00     0  migration/0</span><br><span class="line">03:25:46 PM     0         9    0.00    0.06    0.00    0.07     0  rcu_sched</span><br><span class="line">03:25:46 PM     0        11    0.00    0.00    0.00    0.00     0  watchdog/0</span><br><span class="line">03:25:46 PM     0        12    0.00    0.00    0.00    0.00     1  watchdog/1</span><br><span class="line">03:25:46 PM     0        13    0.00    0.00    0.00    0.00     1  migration/1</span><br><span class="line">03:25:46 PM     0        14    0.00    0.01    0.00    0.01     1  ksoftirqd/1</span><br><span class="line">03:25:46 PM     0        35    0.00    0.02    0.00    0.02     0  kswapd0</span><br><span class="line">03:25:46 PM     0        37    0.00    0.00    0.00    0.00     1  khugepaged</span><br><span class="line">03:25:46 PM     0       852    0.00    0.00    0.00    0.00     0  kworker/u256:2</span><br><span class="line">03:25:46 PM     0       853    0.00    0.00    0.00    0.00     0  scsi_eh_1</span><br><span class="line">03:25:46 PM     0      3065    0.00    0.06    0.00    0.06     1  xfsaild/dm-0</span><br><span class="line">03:25:46 PM     0      3066    0.00    0.00    0.00    0.00     0  kworker/0:1H</span><br><span class="line">03:25:46 PM     0      3134    0.00    0.01    0.00    0.01     1  systemd-journal</span><br><span class="line">03:25:46 PM     0      3169    0.01    0.00    0.00    0.01     0  systemd-udevd</span><br><span class="line">03:25:46 PM     0      4969    0.00    0.00    0.00    0.00     0  xfsaild/sda1</span><br><span class="line">03:25:46 PM     0      5174    0.00    0.00    0.00    0.00     1  auditd</span><br><span class="line">03:25:46 PM    81      5978    0.01    0.00    0.00    0.01     1  dbus-daemon</span><br><span class="line">03:25:46 PM     0      6012    0.00    0.01    0.00    0.01     0  irqbalance</span><br><span class="line">03:25:46 PM     0      6017    0.00    0.00    0.00    0.00     0  VGAuthService</span><br><span class="line">03:25:46 PM   999      6023    0.00    0.00    0.00    0.00     1  polkitd</span><br><span class="line">03:25:46 PM     0      6031    0.05    0.05    0.00    0.10     1  vmtoolsd</span><br><span class="line">03:25:46 PM     0      6035    0.00    0.00    0.00    0.00     1  systemd-logind</span><br><span class="line">03:25:46 PM   998      6038    0.00    0.00    0.00    0.00     1  chronyd</span><br><span class="line">03:25:46 PM     0      6039    0.00    0.00    0.00    0.01     1  NetworkManager</span><br><span class="line">03:25:46 PM     0      6049    0.00    0.00    0.00    0.00     0  crond</span><br><span class="line">03:25:46 PM     0      6622    0.00    0.00    0.00    0.00     1  sshd</span><br><span class="line">03:25:46 PM     0      6625    0.00    0.00    0.00    0.01     1  rsyslogd</span><br><span class="line">03:25:46 PM     0      6628    0.01    0.00    0.00    0.01     0  tuned</span><br><span class="line">03:25:46 PM     0      6644    0.26    0.30    0.00    0.56     1  containerd</span><br><span class="line">03:25:46 PM     0      6647    0.12    0.09    0.00    0.21     1  dockerd</span><br><span class="line">03:25:46 PM     0      7011    0.00    0.00    0.00    0.00     1  kworker/1:1H</span><br><span class="line">03:25:46 PM     0      7136    0.00    0.00    0.00    0.00     0  master</span><br><span class="line">03:25:46 PM    89      7199    0.00    0.00    0.00    0.00     0  qmgr</span><br><span class="line">03:25:46 PM     0      7969    0.00    0.00    0.00    0.00     0  docker-proxy</span><br><span class="line">03:25:46 PM     0      8088    0.04    0.01    0.00    0.06     1  containerd-shim</span><br><span class="line">03:25:46 PM     0      8222    0.04    0.01    0.00    0.06     1  containerd-shim</span><br><span class="line">03:25:46 PM     0      8244    0.00    0.00    0.00    0.00     0  start.sh</span><br><span class="line">03:25:46 PM   997      8250    0.49    0.07    0.00    0.56     0  java</span><br><span class="line">03:25:46 PM     0      8319    0.00    0.00    0.00    0.00     0  containerd-shim</span><br><span class="line">03:25:46 PM     0      8374    0.04    0.01    0.00    0.06     1  containerd-shim</span><br><span class="line">03:25:46 PM     0      8469    0.00    0.00    0.00    0.00     0  entrypoint.sh</span><br><span class="line">03:25:46 PM     0      8508    0.00    0.00    0.00    0.00     0  sudo</span><br><span class="line">03:25:46 PM     0      8550    0.00    0.00    0.00    0.00     1  nginx</span><br><span class="line">03:25:46 PM     0      9020    0.00    0.00    0.00    0.00     1  crond</span><br><span class="line">03:25:46 PM     0      9024    0.00    0.00    0.00    0.00     1  sudo</span><br><span class="line">03:25:46 PM 10000      9107    0.00    0.00    0.00    0.00     1  rsyslogd</span><br><span class="line">03:25:46 PM 10000      9225    0.00    0.00    0.00    0.01     1  registry</span><br><span class="line">03:25:46 PM 65534      9235    0.00    0.00    0.00    0.00     0  nginx</span><br><span class="line">03:25:46 PM 65534      9236    0.00    0.00    0.00    0.00     1  nginx</span><br><span class="line">03:25:46 PM   999      9278    0.07    0.11    0.00    0.18     0  redis-server</span><br><span class="line">03:25:46 PM     0     17749    0.00    0.01    0.00    0.01     0  sshd</span><br><span class="line">03:25:46 PM     0     17752    0.00    0.00    0.00    0.00     1  bash</span><br><span class="line">03:25:46 PM     0     19583    0.00    0.00    0.00    0.00     1  containerd-shim</span><br><span class="line">03:25:46 PM     0     19601    0.00    0.00    0.00    0.00     0  start.sh</span><br><span class="line">03:25:46 PM 10000     19678    0.05    0.08    0.00    0.13     0  harbor_jobservi</span><br><span class="line">03:25:46 PM     0     19679    0.04    0.01    0.00    0.05     1  containerd-shim</span><br><span class="line">03:25:46 PM     0     19701    0.00    0.00    0.00    0.00     1  sudo</span><br><span class="line">03:25:46 PM     0     19782    0.04    0.01    0.00    0.05     0  containerd-shim</span><br><span class="line">03:25:46 PM     0     19807    0.00    0.00    0.00    0.00     1  start.sh</span><br><span class="line">03:25:46 PM 10000     19891    0.02    0.02    0.00    0.04     1  mysqld</span><br><span class="line">03:25:46 PM 10000     19926    0.00    0.00    0.00    0.01     1  harbor_adminser</span><br><span class="line">03:25:46 PM     0     19986    0.04    0.01    0.00    0.06     1  containerd-shim</span><br><span class="line">03:25:46 PM     0     20015    0.00    0.00    0.00    0.00     0  start.sh</span><br><span class="line">03:25:46 PM 10000     20082    0.01    0.00    0.00    0.01     0  harbor_ui</span><br><span class="line">03:25:46 PM     0     64336    0.00    0.00    0.00    0.00     1  sshd</span><br><span class="line">03:25:46 PM     0     64339    0.00    0.00    0.00    0.00     0  bash</span><br><span class="line">03:25:46 PM     0     65974    0.00    0.00    0.00    0.00     0  kworker/u256:0</span><br><span class="line">03:25:46 PM    89     72217    0.00    0.00    0.00    0.00     0  pickup</span><br><span class="line">03:25:46 PM     0     72494    0.00    0.01    0.00    0.01     0  kworker/0:0</span><br><span class="line">03:25:46 PM     0     75666    0.00    0.00    0.00    0.00     1  kworker/1:1</span><br><span class="line">03:25:46 PM     0     78668    0.00    0.00    0.00    0.00     1  kworker/1:2</span><br><span class="line">03:25:46 PM     0     80748    0.00    0.00    0.00    0.00     0  kworker/0:1</span><br><span class="line">03:25:46 PM     0     84660    0.00    0.00    0.00    0.00     0  pidstat</span><br><span class="line"></span><br><span class="line"><span class="comment"># 动态跟踪内存使用</span></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># pidstat -r 1</span></span><br><span class="line">Linux 3.10.0-957.12.2.el7.x86_64 (harbor-jenkins) 	06/06/2019 	_x86_64_	(2 CPU)</span><br><span class="line"></span><br><span class="line">03:27:11 PM   UID       PID  minflt/s  majflt/s     VSZ    RSS   %MEM  Command</span><br><span class="line">03:27:12 PM     0      8088      0.98      0.00   10720   3528   0.19  containerd-shim</span><br><span class="line">03:27:12 PM     0      8222      0.00      0.00   10720   3520   0.19  containerd-shim</span><br><span class="line">03:27:12 PM   997      8250      0.98      0.00 3123940 272512  14.63  java</span><br><span class="line">03:27:12 PM     0      8319      7.84      0.00   10720   2124   0.11  containerd-shim</span><br><span class="line">03:27:12 PM     0      8374      0.00      0.00   11776   3764   0.20  containerd-shim</span><br><span class="line">03:27:12 PM     0     85491    311.76      0.00  108348   1132   0.06  pidstat</span><br><span class="line"></span><br><span class="line">03:27:12 PM   UID       PID  minflt/s  majflt/s     VSZ    RSS   %MEM  Command</span><br><span class="line">03:27:13 PM   997      8250      2.00      0.00 3123940 272512  14.63  java</span><br><span class="line">03:27:13 PM     0     85491    320.00      0.00  108348   1212   0.07  pidstat</span><br><span class="line"></span><br><span class="line">03:27:13 PM   UID       PID  minflt/s  majflt/s     VSZ    RSS   %MEM  Command</span><br><span class="line">03:27:14 PM     0     85491    300.00      0.00  108348   1212   0.07  pidstat</span><br><span class="line"></span><br><span class="line">03:27:14 PM   UID       PID  minflt/s  majflt/s     VSZ    RSS   %MEM  Command</span><br><span class="line">03:27:15 PM     0     85491    300.00      0.00  108348   1212   0.07  pidstat</span><br><span class="line"></span><br><span class="line">03:27:15 PM   UID       PID  minflt/s  majflt/s     VSZ    RSS   %MEM  Command</span><br><span class="line">03:27:16 PM     0     85491    300.00      0.00  108348   1212   0.07  pidstat</span><br><span class="line"></span><br><span class="line">03:27:16 PM   UID       PID  minflt/s  majflt/s     VSZ    RSS   %MEM  Command</span><br><span class="line">03:27:17 PM     0      6012      2.00      0.00   21676   1048   0.06  irqbalance</span><br><span class="line">03:27:17 PM     0     85491    300.00      0.00  108348   1212   0.07  pidstat</span><br><span class="line"></span><br><span class="line">03:27:17 PM   UID       PID  minflt/s  majflt/s     VSZ    RSS   %MEM  Command</span><br><span class="line">03:27:18 PM     0     19679      0.00      0.00   10720   3408   0.18  containerd-shim</span><br><span class="line">03:27:18 PM     0     85491    300.00      0.00  108348   1212   0.07  pidstat</span><br><span class="line"></span><br><span class="line"><span class="comment"># 磁盘使用跟踪</span></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># pidstat -d 1</span></span><br><span class="line">Linux 3.10.0-957.12.2.el7.x86_64 (harbor-jenkins) 	06/06/2019 	_x86_64_	(2 CPU)</span><br><span class="line"></span><br><span class="line">03:28:16 PM   UID       PID   kB_rd/s   kB_wr/s kB_ccwr/s  Command</span><br><span class="line"></span><br><span class="line">03:28:17 PM   UID       PID   kB_rd/s   kB_wr/s kB_ccwr/s  Command</span><br><span class="line"></span><br><span class="line">03:28:18 PM   UID       PID   kB_rd/s   kB_wr/s kB_ccwr/s  Command</span><br><span class="line"></span><br><span class="line">03:28:19 PM   UID       PID   kB_rd/s   kB_wr/s kB_ccwr/s  Command</span><br><span class="line">03:28:20 PM   997      8250      0.00      8.00      0.00  java</span><br><span class="line"></span><br><span class="line">03:28:20 PM   UID       PID   kB_rd/s   kB_wr/s kB_ccwr/s  Command</span><br><span class="line"></span><br><span class="line">03:28:21 PM   UID       PID   kB_rd/s   kB_wr/s kB_ccwr/s  Command</span><br><span class="line"></span><br><span class="line">03:28:22 PM   UID       PID   kB_rd/s   kB_wr/s kB_ccwr/s  Command</span><br><span class="line">^C</span><br><span class="line"></span><br><span class="line">Average:      UID       PID   kB_rd/s   kB_wr/s kB_ccwr/s  Command</span><br><span class="line">Average:      997      8250      0.00      1.14      0.00  java</span><br><span class="line"></span><br><span class="line"><span class="comment"># 跟踪某个服务</span></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># man pidstat</span></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># pidstat -C docker</span></span><br><span class="line">Linux 3.10.0-957.12.2.el7.x86_64 (harbor-jenkins) 	06/06/2019 	_x86_64_	(2 CPU)</span><br><span class="line"></span><br><span class="line">03:30:15 PM   UID       PID    %usr %system  %guest    %CPU   CPU  Command</span><br><span class="line">03:30:15 PM     0      6647    0.12    0.09    0.00    0.21     1  dockerd</span><br><span class="line">03:30:15 PM     0      7969    0.00    0.00    0.00    0.00     0  docker-proxy</span><br></pre></td></tr></table></figure>

<h3 id="各种top"><a href="#各种top" class="headerlink" title="各种top"></a>各种<code>top</code></h3><ul>
<li>mytop:查看 mysql</li>
<li>apachetop:查看 apache</li>
<li>numatop</li>
<li>powertop</li>
<li>slabtop</li>
<li>iotop：I/O 监控</li>
<li>atop：全面监控，内存，磁盘，网络等</li>
<li>htop：多核监控</li>
</ul>
<h2 id="一些技巧"><a href="#一些技巧" class="headerlink" title="一些技巧"></a>一些技巧</h2><h3 id="curl-ifconfig-me"><a href="#curl-ifconfig-me" class="headerlink" title="curl ifconfig.me"></a><code>curl ifconfig.me</code></h3><p>查询当前 Linux 的外网地址</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_7_162_centos ~]<span class="comment"># curl ifconfig.me</span></span><br><span class="line">123.207.142.78</span><br></pre></td></tr></table></figure>

<h3 id="dstat"><a href="#dstat" class="headerlink" title="dstat"></a><code>dstat</code></h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">[root@harbor-jenkins ~]<span class="comment"># yum install -y dstat</span></span><br><span class="line">Loaded plugins: fastestmirror</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line"> * base: mirror.jdcloud.com</span><br><span class="line"> * epel: mirrors.tuna.tsinghua.edu.cn</span><br><span class="line"> * extras: mirror.jdcloud.com</span><br><span class="line"> * updates: mirror.jdcloud.com</span><br><span class="line">Resolving Dependencies</span><br><span class="line">--&gt; Running transaction check</span><br><span class="line">---&gt; Package dstat.noarch 0:0.7.2-12.el7 will be installed</span><br><span class="line">--&gt; Finished Dependency Resolution</span><br><span class="line"></span><br><span class="line">Dependencies Resolved</span><br><span class="line"></span><br><span class="line">=====================================================================================================</span><br><span class="line"> Package              Arch                  Version                        Repository           Size</span><br><span class="line">=====================================================================================================</span><br><span class="line">Installing:</span><br><span class="line"> dstat                noarch                0.7.2-12.el7                   base                163 k</span><br><span class="line"></span><br><span class="line">Transaction Summary</span><br><span class="line">=====================================================================================================</span><br><span class="line">Install  1 Package</span><br><span class="line"></span><br><span class="line">Total download size: 163 k</span><br><span class="line">Installed size: 752 k</span><br><span class="line">Downloading packages:</span><br><span class="line">dstat-0.7.2-12.el7.noarch.rpm                                                 | 163 kB  00:00:00</span><br><span class="line">Running transaction check</span><br><span class="line">Running transaction <span class="built_in">test</span></span><br><span class="line">Transaction <span class="built_in">test</span> succeeded</span><br><span class="line">Running transaction</span><br><span class="line">  Installing : dstat-0.7.2-12.el7.noarch                                                         1/1</span><br><span class="line">  Verifying  : dstat-0.7.2-12.el7.noarch                                                         1/1</span><br><span class="line"></span><br><span class="line">Installed:</span><br><span class="line">  dstat.noarch 0:0.7.2-12.el7</span><br><span class="line"></span><br><span class="line">Complete!</span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># dstat --top-io</span></span><br><span class="line">----most-expensive----</span><br><span class="line">     i/o process</span><br><span class="line">bash        288k  956B</span><br><span class="line">redis-serve  42k  260B</span><br><span class="line">redis-serve6302B   23B</span><br><span class="line">redis-serve4526B   10B</span><br><span class="line">redis-serve4526B   10B</span><br><span class="line">redis-serve4526B   10B</span><br><span class="line">redis-serve  42k  260B</span><br><span class="line">redis-serve6302B   23B</span><br><span class="line">vmtoolsd   9859B    0</span><br><span class="line">redis-serve4526B   10B</span><br><span class="line">redis-serve4526B   10B</span><br><span class="line">redis-serve  42k  260B</span><br><span class="line">redis-serve6302B   23B</span><br><span class="line">redis-serve4526B   10B</span><br><span class="line">redis-serve4683B   32B</span><br><span class="line"></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># dstat --top-bio</span></span><br><span class="line">----most-expensive----</span><br><span class="line">  block i/o process</span><br><span class="line">bash         31k 3318B</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">java          0  8192B</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                      ^C</span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># dstat --top-oom</span></span><br><span class="line">--out-of-memory---</span><br><span class="line">    <span class="built_in">kill</span> score</span><br><span class="line">java          107</span><br><span class="line">java          107</span><br><span class="line">java          107</span><br><span class="line">java          107</span><br><span class="line">java          107</span><br><span class="line">java          107</span><br></pre></td></tr></table></figure>

<h3 id="du和ncdu"><a href="#du和ncdu" class="headerlink" title="du和ncdu"></a><code>du</code>和<code>ncdu</code></h3><p>对目录使用空间的统计</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 当前目录使用空间统计</span></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># du -sh</span></span><br><span class="line">1.7G	.</span><br><span class="line"><span class="comment"># /var目录使用空间统计</span></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># du -sh /var</span></span><br><span class="line">5.2G	/var</span><br></pre></td></tr></table></figure>

<p>动态统计</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装</span></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># yum install -y ncdu</span></span><br><span class="line">Loaded plugins: fastestmirror</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line"> * base: mirror.jdcloud.com</span><br><span class="line"> * epel: mirrors.tuna.tsinghua.edu.cn</span><br><span class="line"> * extras: mirror.jdcloud.com</span><br><span class="line"> * updates: mirror.jdcloud.com</span><br><span class="line">Resolving Dependencies</span><br><span class="line">--&gt; Running transaction check</span><br><span class="line">---&gt; Package ncdu.x86_64 0:1.14-1.el7 will be installed</span><br><span class="line">--&gt; Finished Dependency Resolution</span><br><span class="line"></span><br><span class="line">Dependencies Resolved</span><br><span class="line"></span><br><span class="line">=====================================================================================================</span><br><span class="line"> Package              Arch                   Version                      Repository            Size</span><br><span class="line">=====================================================================================================</span><br><span class="line">Installing:</span><br><span class="line"> ncdu                 x86_64                 1.14-1.el7                   epel                  51 k</span><br><span class="line"></span><br><span class="line">Transaction Summary</span><br><span class="line">=====================================================================================================</span><br><span class="line">Install  1 Package</span><br><span class="line"></span><br><span class="line">Total download size: 51 k</span><br><span class="line">Installed size: 87 k</span><br><span class="line">Downloading packages:</span><br><span class="line">ncdu-1.14-1.el7.x86_64.rpm                                                    |  51 kB  00:00:00</span><br><span class="line">Running transaction check</span><br><span class="line">Running transaction <span class="built_in">test</span></span><br><span class="line">Transaction <span class="built_in">test</span> succeeded</span><br><span class="line">Running transaction</span><br><span class="line">  Installing : ncdu-1.14-1.el7.x86_64                                                            1/1</span><br><span class="line">  Verifying  : ncdu-1.14-1.el7.x86_64                                                            1/1</span><br><span class="line"></span><br><span class="line">Installed:</span><br><span class="line">  ncdu.x86_64 0:1.14-1.el7</span><br><span class="line"></span><br><span class="line">Complete!</span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># ncdu</span></span><br></pre></td></tr></table></figure>

<h3 id="glances"><a href="#glances" class="headerlink" title="glances"></a><code>glances</code></h3><p>web 方式在其他机器上查看当前主机的信息</p>
<h3 id="iostat"><a href="#iostat" class="headerlink" title="iostat"></a><code>iostat</code></h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@harbor-jenkins ~]<span class="comment"># iostat</span></span><br><span class="line">Linux 3.10.0-957.12.2.el7.x86_64 (harbor-jenkins) 	06/06/2019 	_x86_64_	(2 CPU)</span><br><span class="line"></span><br><span class="line">avg-cpu:  %user   %nice %system %iowait  %steal   %idle</span><br><span class="line">           2.24    0.00    1.60    0.02    0.00   96.15</span><br><span class="line"></span><br><span class="line">Device:            tps    kB_read/s    kB_wrtn/s    kB_read    kB_wrtn</span><br><span class="line">sda               9.20       255.86        70.02    2288411     626301</span><br><span class="line">scd0              0.00         0.11         0.00       1028          0</span><br><span class="line">dm-0              9.41       252.16        35.67    2255362     319024</span><br><span class="line">dm-1              8.55         1.82        32.64      16252     291904</span><br></pre></td></tr></table></figure>

<h3 id="speedtest-cli"><a href="#speedtest-cli" class="headerlink" title="speedtest-cli"></a><code>speedtest-cli</code></h3><p>测试网速</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装</span></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># pip install speedtest-cli</span></span><br><span class="line">DEPRECATION: Python 2.7 will reach the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 wont be maintained after that date. A future version of pip will drop support <span class="keyword">for</span> Python 2.7.</span><br><span class="line">Collecting speedtest-cli</span><br><span class="line">  Downloading https://files.pythonhosted.org/packages/61/8b/58d1de9a7fff3e91c5ab956ab4ba72b49f42d9f73d5f3e248c740dfcc816/speedtest_cli-2.1.1-py2.py3-none-any.whl</span><br><span class="line">Installing collected packages: speedtest-cli</span><br><span class="line">Successfully installed speedtest-cli-2.1.1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 测试网速</span></span><br><span class="line">[root@harbor-jenkins ~]<span class="comment"># speedtest-cli --simple</span></span><br><span class="line">Ping: 16.919 ms</span><br><span class="line">Download: 33.02 Mbit/s</span><br><span class="line">Upload: 8.14 Mbit/s</span><br></pre></td></tr></table></figure>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/shell/" rel="tag"># shell</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2019/06/05/shell/shell%E5%AD%A6%E4%B9%A0/" rel="prev" title="shell学习">
      <i class="fa fa-chevron-left"></i> shell学习
    </a></div>
      <div class="post-nav-item">
    <a href="/2019/06/06/mysql/mysql%E4%BD%BF%E7%94%A8/" rel="next" title="mysql使用">
      mysql使用 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#高级命令"><span class="nav-number">1.</span> <span class="nav-text">高级命令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#systemctl"><span class="nav-number">1.1.</span> <span class="nav-text">systemctl</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#journalctl"><span class="nav-number">1.2.</span> <span class="nav-text">journalctl</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#网络工具"><span class="nav-number">1.3.</span> <span class="nav-text">网络工具</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#tcpdump"><span class="nav-number">1.3.1.</span> <span class="nav-text">tcpdump</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#netstat和ss"><span class="nav-number">1.3.2.</span> <span class="nav-text">netstat和ss</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#iftop"><span class="nav-number">1.3.3.</span> <span class="nav-text">iftop</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ifstat"><span class="nav-number">1.3.4.</span> <span class="nav-text">ifstat</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#siege"><span class="nav-number">1.3.5.</span> <span class="nav-text">siege</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#traceroute-vs-mtr"><span class="nav-number">1.3.6.</span> <span class="nav-text">traceroute vs mtr</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ping和fping"><span class="nav-number">1.3.7.</span> <span class="nav-text">ping和fping</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ps-和-pidstat"><span class="nav-number">1.3.8.</span> <span class="nav-text">ps 和 pidstat</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#各种top"><span class="nav-number">1.3.9.</span> <span class="nav-text">各种top</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#一些技巧"><span class="nav-number">1.4.</span> <span class="nav-text">一些技巧</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#curl-ifconfig-me"><span class="nav-number">1.4.1.</span> <span class="nav-text">curl ifconfig.me</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#dstat"><span class="nav-number">1.4.2.</span> <span class="nav-text">dstat</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#du和ncdu"><span class="nav-number">1.4.3.</span> <span class="nav-text">du和ncdu</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#glances"><span class="nav-number">1.4.4.</span> <span class="nav-text">glances</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#iostat"><span class="nav-number">1.4.5.</span> <span class="nav-text">iostat</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#speedtest-cli"><span class="nav-number">1.4.6.</span> <span class="nav-text">speedtest-cli</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Andy Ge</p>
  <div class="site-description" itemprop="description">勇于积极进取，步入人生的世外桃源</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">728</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">134</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">315</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/andyge" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;andyge" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:geshaofei@126.com" title="E-Mail → mailto:geshaofei@126.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title">
      <i class="fa fa-fw fa-link"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="http://www.ruanyifeng.com/" title="http:&#x2F;&#x2F;www.ruanyifeng.com&#x2F;" rel="noopener" target="_blank">阮一峰</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="http://colobu.com/" title="http:&#x2F;&#x2F;colobu.com&#x2F;" rel="noopener" target="_blank">鸟窝</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://www.cnblogs.com/hellokuangshen/" title="https:&#x2F;&#x2F;www.cnblogs.com&#x2F;hellokuangshen&#x2F;" rel="noopener" target="_blank">狂神</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://yelog.org/" title="https:&#x2F;&#x2F;yelog.org&#x2F;" rel="noopener" target="_blank">叶落阁</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Andy Ge</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.7.1
  </div>

        






  <script>
  function leancloudSelector(url) {
    url = encodeURI(url);
    return document.getElementById(url).querySelector('.leancloud-visitors-count');
  }
  if (CONFIG.page.isPost) {
    function addCount(Counter) {
      var visitors = document.querySelector('.leancloud_visitors');
      var url = decodeURI(visitors.getAttribute('id'));
      var title = visitors.getAttribute('data-flag-title');

      Counter('get', `/classes/Counter?where=${JSON.stringify({ url })}`)
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            var counter = results[0];
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .then(response => response.json())
              .then(() => {
                leancloudSelector(url).innerText = counter.time + 1;
              })
              .catch(error => {
                console.error('Failed to save visitor count', error);
              })
          } else {
              Counter('post', '/classes/Counter', { title: title, url: url, time: 1 })
                .then(response => response.json())
                .then(() => {
                  leancloudSelector(url).innerText = 1;
                })
                .catch(error => {
                  console.error('Failed to create', error);
                });
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }
  } else {
    function showTime(Counter) {
      var visitors = document.querySelectorAll('.leancloud_visitors');
      var entries = [...visitors].map(element => {
        return decodeURI(element.getAttribute('id'));
      });

      Counter('get', `/classes/Counter?where=${JSON.stringify({ url: { '$in': entries } })}`)
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length === 0) {
            document.querySelectorAll('.leancloud_visitors .leancloud-visitors-count').forEach(element => {
              element.innerText = 0;
            });
            return;
          }
          for (let item of results) {
            let { url, time } = item;
            leancloudSelector(url).innerText = time;
          }
          for (let url of entries) {
            var element = leancloudSelector(url);
            if (element.innerText == '') {
              element.innerText = 0;
            }
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }
  }

  fetch('https://app-router.leancloud.cn/2/route?appId=2TdIb5gRlAVUw24l2W0zWnCj-gzGzoHsz')
    .then(response => response.json())
    .then(({ api_server }) => {
      var Counter = (method, url, data) => {
        return fetch(`https://${api_server}/1.1${url}`, {
          method: method,
          headers: {
            'X-LC-Id'     : '2TdIb5gRlAVUw24l2W0zWnCj-gzGzoHsz',
            'X-LC-Key'    : 'cJdJrMLBXsj0ttq0WsL0aA2j',
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        if (CONFIG.hostname !== location.hostname) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    });
  </script>


      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
